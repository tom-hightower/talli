{"version":3,"sources":["firebase.js","logo.svg","cookies.js","components/Help.js","components/CookieWarning.js","components/NavBar.js","components/Theme.js","components/CookieConsent.js","components/MainPage.js","components/VoterView/Dialogs/SubmitConfirm.js","components/VoterView/Countdown.js","components/VoterView/Dialogs/EventClosed.js","components/VoterView/RankingContainer.js","components/VoterView/Dialogs/EntryConfirmation.js","components/VoterView/Dialogs/NotFound.js","components/VoterView/Dialogs/BlockJoin.js","components/VoterView/AddEntryVote.js","components/VoterView/Dialogs/EarlyJoin.js","components/VoterView/Dialogs/ClosedJoin.js","components/VoterView/Dialogs/RejoinClosed.js","components/VoterView/Dialogs/RejoinEvent.js","components/VoterView/JoinEvent.js","components/VoterView/Submitted.js","components/Voter.js","components/OrganizerView/NewEventForm.js","components/OrganizerView/EventList.js","components/OrganizerView/NewEntryForm.js","components/OrganizerView/Dialogs/EntryImportInfo.js","components/OrganizerView/AddEntryOrg.js","components/OrganizerView/Dialogs/ExportOrgData.js","components/OrganizerView/Dialogs/EditEntries.js","components/OrganizerView/Dialogs/EditEvent.js","components/OrganizerView/Dialogs/EditVoting.js","components/OrganizerView/Dialogs/AddEntries.js","components/OrganizerView/Dialogs/EditWeights.js","components/OrganizerView/Dialogs/AddBallotEntry.js","components/OrganizerView/Dialogs/AddBallot.js","components/OrganizerView/Dialogs/ShowError.js","components/OrganizerView/Dialogs/ConfirmFinalize.js","components/OrganizerView/ViewEvent.js","components/Organizer.js","components/CookieInfo.js","routing/routing.js","App.js","serviceWorker.js","index.js"],"names":["firebase","require","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","module","exports","__webpack_require__","p","setCookie","c_name","value","exdays","d","Date","setTime","getTime","expires","toGMTString","document","cookie","getCookie","cookiesArray","split","i","length","nameValueArray","Transition","props","react_default","a","createElement","index_es","Object","assign","direction","HelpView","state","open","handleOpen","_this","setState","handleClose","this","TransitionComponent","onClose","onClick","color","React","Component","CookieWarning","NavBar","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggleDrawer","closeDrawer","onSuccess","response","ChangeView","onFailure","console","log","helpChild","createRef","warningChild","page","consentValue","current","navigate","view","logout","_this2","loginStatus","loggedIn","button","key","AssignmentInd_default","primary","google_login","clientId","render","renderProps","bind","className","AppBar_default","position","Toolbar_default","IconButton_default","aria-label","Menu_default","src","logoSvg","alt","tabIndex","role","width","Home_default","HowToVote_default","HelpOutline_default","Help_HelpView","ref","CookieWarning_CookieWarning","createMuiTheme","palette","lightBlue","secondary","green","error","red","typography","h4","fontWeight","fontSize","h5","CookieConsent","goToLink","nav","in","mountOnEnter","unmountOnExit","elevation","id","size","variant","socket","openSocket","signInUrl","Global","on","url","MainPage","gaveConsent","cookiesValue","userID","Math","random","toString","substr","database","child","set","align","gutterBottom","container","justify","GetCookies","google_login_default","CookieConsent_CookieConsent","SubmitConfirm","itemsRef","concat","eventID","handler","SubmitRankings","Countdown","days","hours","min","sec","startDate","calculateCountdown","date","finish","interval","setInterval","stop","endDate","diff","parse","timeLeft","years","millisec","floor","clearInterval","onFinished","valueStr","String","renderCount","countDown","Fragment","addLeadingZeros","defaultProps","EventClosed","eventName","DragHandle","SortableHandle","Sort_default","SortableItem","SortableElement","_ref","item","SortableList","SortableContainer","_ref2","items","map","index","name","SortContainer","onSortEnd","_ref3","oldIndex","newIndex","arrayMove","updateDatabaseRankings","event","location","automate","startVote","endVote","entries","handleAddEvent","assertThisInitialized","submitConfirm","submitted","countdownFinished","confirmChild","closedChild","e","preventDefault","updateItemsHandler","voteViews","ADD","rankItems","organizer","once","then","snapshot","events","val","eventBase","eventData","eventEntries","itemList","entryToAdd","some","push","title","organizerId","eventId","emit","votes","SUBMITTED","EventClosed_EventClosed","SubmitConfirm_SubmitConfirm","style","textAlign","AddCircle_default","lockAxis","useDragHandle","helperClass","NotificationImportant_default","Countdown_Countdown","EntryConfirmation","handleConfirm","entryName","NotFound","idType","BlockJoin","config","AddEntryVote","requestConfirm","itemMatch","filter","entryID","entryTitle","blockChild","entry","notFoundChild","handleGoBack","RANK","idFieldValue","handleScan","handleError","handleText","handleAddEntry","keyPress","data","toLowerCase","includes","entryQRPrefix","substring","indexOf","replace","err","_this3","NotFound_NotFound","EntryConfirmation_EntryConfirmation","BlockJoin_BlockJoin","react_qr_reader_lib_default","delay","onScan","onError","margin","label","onKeyPress","onChange","target","EarlyJoin","ClosedJoin","RejoinClosed","RejoinEvent","JoinEvent","snap","orgID","organizerID","votingState","getVotingState","cookies","check","pastEvents","c","closedJoinChild","earlyJoinChild","handleJoinEvent","handleRejoinEvent","rejoinChild","rejoinClosedChild","cookieSnap","allCookies","currentEvent","orgSnap","eventSnap","toISOString","hostURL","currentEventId","rankSnap","rankings","_this4","RejoinEvent_RejoinEvent","EarlyJoin_EarlyJoin","ClosedJoin_ClosedJoin","RejoinClosed_RejoinClosed","onKeyDown","RanksSubmitted","JOIN","Voter","curView","rankingItems","changeView","updateItems","newView","arguments","undefined","addedEntry","AddEntryVote_AddEntryVote","RankingContainer_SortContainer","Submitted_RanksSubmitted","JoinEvent_JoinEvent","NewEventForm","sheetURL","AddEntries","googleId","user","idExists","forEach","childSnapshot","setEvent","orgViews","toggleAutomation","oldData","handleEventChange","field","handleDateChange","cancelAddition","MAIN","onSubmit","required","InputLabelProps","shrink","material_ui_pickers_esm","utils","DateFnsUtils","InputProps","startAdornment","DateRange_default","control","checked","labelPlacement","type","EventList","query","allEvents","refPrefix","isoDate","CREATE","VIEW","sessionStorage","getItem","AddEvent","viewEvent","parseDate","NewEntryForm","show","currValue","presenters","entry_dates","delEntry","updateEntry","handleChange","defineProperty","RemoveCircleOutline_default","EntryImportInfo","Close_default","AddEntryOrg","openInfo","infoPopup","addEntry","newEntries","slice","alert","readCSV","f","files","r","FileReader","onload","contents","result","line","line_title","line_pres","line_date","lines","tempEnt","readAsText","status","idx","updateEntries","curEvent","base","EntryImportInfo_EntryImportInfo","component","accept","display","submitEntries","NewEntryForm_NewEntryForm","ExportOrgData","exportEntry","exportEvent","toggleEntryExport","toggleEventExport","generatePDF","qr_code","doc","jsPDF","qr","imageSync","addImage","text","addPage","nameNoSpaces","save","EditEntries","handleDelete","remove","handleSaveClose","defaultValue","disabled","EditEvent","confirmDelete","prevState","handleDeleteEvent","databaseRef","background","EditVoting","openVoting","closeVoting","reopenVoting","getHours","getMinutes","parseTime","renderOptions","tempId","ent","entArray","keys","parseInt","EditWeights","handleSave","weights","handleWeightChange","curr","weight","AddVoteEntryForm","rank","entriesInVote","duplicate","valid","_this$setState","_this$setState2","idAndTitle","AddVotes","voteID","submitVote","hasError","numOfEntries","checkItem","itemRef","nonDigitVoteSize","x","AddBallotEntry_AddVoteEntryForm","ShowError","message","ConfirmFinalize","ViewEvent","handleExport","exportChild","handleOpenEntries","addChild","handleEventEdit","eventChild","handleOpenCloseVoting","votingChild","handleWeights","weightsChild","errorChild","handleAddVote","addVoteChild","goBack","viewResults","manageEvent","finalizeConfirm","finalizeChild","finalizeResults","handleURLChange","newEvent","handleSubmit","sendEntries","entryChild","removeListener","ExportOrgData_ExportOrgData","EditEntries_EditEntries","ConfirmFinalize_ConfirmFinalize","AddEntries_AddEntries","EditEvent_EditEvent","AddBallot_AddVotes","EditVoting_EditVoting","EditWeights_EditWeights","ShowError_ShowError","googleID","values","handleEntryEdit","Organizer","curEventID","setView","NewEventForm_NewEventForm","AddEntryOrg_AddEntryOrg","ViewEvent_ViewEvent","EventList_EventList","getCurrView","CookieInfo","RouterMixin","RoutedApp","createReactClass","displayName","getInitialState","mixins","routes","/","/vote","/vote/:text","/organizer","/cookies","renderCurrentRoute","home","MainPage_MainPage","vote","Voter_Voter","voteWithID","Organizer_Organizer","CookieInfo_CookieInfo","notFound","path","App","email","styles","theme","NavBar_NavBar","routing","profileObj","givenName","setItem","removeItem","Boolean","window","hostname","match","ReactDOM","App_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5727e166.chunk.js","sourcesContent":["const firebase = require('firebase');\n\n// Initialize Firebase\nconst config = {\n    apiKey: \"AIzaSyAJdDmQLsBBoxMKV0GYrhYIpWfsSvptytw\",\n    authDomain: \"talli-9582a.firebaseapp.com\",\n    databaseURL: \"https://talli-9582a.firebaseio.com\",\n    projectId: \"talli-9582a\",\n    storageBucket: \"talli-9582a.appspot.com\",\n    messagingSenderId: \"637663865216\"\n};\n\nfirebase.initializeApp(config);\nmodule.exports = firebase;\n","module.exports = __webpack_public_path__ + \"static/media/logo.6276622d.svg\";","\nexport function setCookie(c_name, value, exdays){\n    const d = new Date();\n    d.setTime(d.getTime() + (exdays*24*60*60*1000));\n    const expires = \"expires=\" + d.toGMTString();\n    document.cookie = c_name + \"=\" + value + \"; \" + expires;\n}\n\nexport function getCookie(c_name) {\n    const cookiesArray = document.cookie.split(\"; \");\n    for (let i = 0; i < cookiesArray.length; i++) {\n        const nameValueArray = cookiesArray[i].split(\"=\");\n        if (nameValueArray[0] === c_name) {\n            return nameValueArray[1];\n        }\n    }\n    return \"\";\n}\n","import React from 'react';\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, Slide } from '@material-ui/core';\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\n/**\r\n * Help view\r\n */\r\nexport default class HelpView extends React.Component {\r\n    state = {\r\n        open: false,\r\n    };\r\n\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\r\n                    <DialogTitle>\r\n                        Help/About\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        <b>Help:</b><br />\r\n                        Choose to vote as an event attendee or login to the event organizer dashboard to begin.\r\n                        <br /><br />\r\n                        <b>About:</b><br />\r\n                        Talli is a portable voting platform built to streamline popular voting at events.\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">Ok</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, Slide } from '@material-ui/core';\n\nfunction Transition(props) {\n    return <Slide direction=\"up\" {...props} />;\n}\n\n/**\n * Cookies warning\n */\nexport default class CookieWarning extends React.Component {\n    state = {\n        open: false,\n    };\n\n    handleOpen = () => {\n        this.setState({ open: true });\n    };\n\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n\n    render() {\n        return (\n            <div>\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\n                    <DialogTitle>\n                        Cookies Required\n                    </DialogTitle>\n                    <DialogContent>\n                        Before you can vote, you <b>must consent</b> to the use of cookies.\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">Close</Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport { GoogleLogin } from 'react-google-login';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport HomeIcon from '@material-ui/icons/Home';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport OrganizerIcon from '@material-ui/icons/AssignmentInd';\nimport VoteIcon from '@material-ui/icons/HowToVote';\nimport { Drawer, ListItemIcon, ListItemText, ListItem, Divider } from '@material-ui/core';\n\nimport './component_style/NavBar.css';\nimport logoSvg from '../logo.svg';\nimport { navigate } from 'react-mini-router';\nimport { getCookie } from '../cookies';\nimport HelpView from './Help';\nimport CookieWarning from './CookieWarning';\n\n/**\n * The NavBar contains the top AppBar as well as the navigation Drawer on\n * the left side, activated by the hamburger menu icon \n */\nexport default class NavBar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false,\n        };\n\n        this.helpChild = React.createRef();\n        this.warningChild = React.createRef();\n    }\n\n    toggleDrawer = () => this.setState({ open: !this.state.open });\n    closeDrawer = () => this.setState({open: false});\n\n    onSuccess = (response) => {\n        this.props.onSuccess(response);\n        this.ChangeView('/organizer');\n    }\n\n    onFailure = () => {\n        console.log(\"Failed to Login\");\n    }\n\n    ChangeView(page) {\n        const consentValue = getCookie('TalliConsent');\n        if (page === \"/vote\" && consentValue === \"\") {\n            this.warningChild.current.handleOpen();\n        } else {\n           navigate(page);\n        }\n    }\n\n    logout(view) {\n        this.ChangeView(view);\n        this.props.logout();\n    }\n\n    // TODO: Add logout to hamburger menu\n\n    render() {\n        // List of buttons for the navigation drawer\n        let loginStatus = !this.props.loggedIn ? (\n            <GoogleLogin \n                clientId=\"1061225539650-cp3lrdn3p1u49tsq320l648hcuvg8plb.apps.googleusercontent.com\"\n                render={renderProps => (\n                    <ListItem button key='Organizer Login' onClick={renderProps.onClick}>\n                        <ListItemIcon><OrganizerIcon /></ListItemIcon>\n                        <ListItemText primary='Organizer Login' />\n                    </ListItem>\n                )}\n                onSuccess={this.onSuccess.bind(this)}\n                onFailure={this.onFailure.bind(this)} />\n        ) : (\n            <ListItem button key='Organizer Logout' onClick={() => this.logout('/')}>\n                <ListItemIcon><OrganizerIcon /></ListItemIcon>\n                <ListItemText primary='Organizer Logout' />\n            </ListItem>\n        );\n\n        return (\n            <div className=\"root\">\n                <AppBar position=\"static\" >\n                    <Toolbar>\n                        <IconButton className=\"menuButton\" color=\"inherit\" aria-label=\"Menu\" onClick={this.toggleDrawer}>\n                            <MenuIcon />\n                        </IconButton>\n                        <img src={logoSvg} className=\"navTitle\" alt=\"talli\" />\n                    </Toolbar>\n                </AppBar>\n                <Drawer open={this.state.open} onClose={this.closeDrawer}>\n                    <div tabIndex={0} role=\"button\" onClick={this.closeDrawer}>\n                        <div width=\"250\">\n                            <ListItem button key='Home' onClick={() => this.logout('/')}>\n                                <ListItemIcon><HomeIcon /></ListItemIcon>\n                                <ListItemText primary='Home' />\n                            </ListItem>\n                            <ListItem button key='Vote' onClick={() => this.logout('/vote')}>\n                                <ListItemIcon><VoteIcon /></ListItemIcon>\n                                <ListItemText primary='Vote' />\n                            </ListItem>\n                            { loginStatus }\n                            <Divider />\n                            <ListItem button key='Help' onClick={() => this.helpChild.current.handleOpen()}>\n                                <ListItemIcon><HelpOutlineIcon /></ListItemIcon>\n                                <ListItemText primary='Help' />\n                            </ListItem>\n                            <ListItem button key='Cookies' onClick={() => this.ChangeView('/cookies')}>\n                                <ListItemIcon><HelpOutlineIcon /></ListItemIcon>\n                                <ListItemText primary='Cookies' />\n                            </ListItem>\n                        </div>\n                    </div>\n                </Drawer>\n                <HelpView ref={this.helpChild} />\n                <CookieWarning ref={this.warningChild} />\n            </div>\n        );\n    }\n}","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport { lightBlue, green, red } from '@material-ui/core/colors';\r\n\r\n/**\r\n * Check out https://material-ui.com/customization/themes/ to\r\n * learn how theming works in Material UI.  I set up this basic\r\n * theme to use colors similar to our logo colors, but this can\r\n * be changed easily later\r\n */\r\nexport default createMuiTheme({\r\n    palette: {\r\n        primary: lightBlue,\r\n        secondary: green,\r\n        error: red\r\n    },\r\n    typography: {\r\n        h4: {\r\n            fontWeight: 500,\r\n            fontSize: 30,\r\n        },\r\n        h5: {\r\n            fontSize: 25,\r\n        }\r\n    },\r\n});\r\n","import React from 'react';\nimport { Button, Card, CardActions, CardContent, Slide } from '@material-ui/core';\nimport { setCookie, getCookie } from '../cookies';\nimport './component_style/CookieConsent.css';\n\n/**\n * Cookie Consent informs users of the use of cookies.\n * It is rendered on the MainPage, and will not\n * allow users to vote as attendees until they accept the cookies.\n */\nexport default class CookieConsent extends React.Component {\n    state = {\n        open: true,\n    }\n\n    handleClose = () => {\n        const consentValue = getCookie('TalliConsent');\n        if (consentValue === \"\") {\n            setCookie(\"TalliConsent\", true, 30);\n        }\n        this.setState({ open: false });\n    }\n\n    goToLink = () => {\n        this.props.nav('/cookies');\n    }\n\n    render() {\n        return (\n            <div>\n                <Slide direction=\"up\" in={this.state.open} mountOnEnter unmountOnExit>\n                    <Card className=\"cookieConsent\" elevation={16}>\n                        <CardContent id=\"cc_content\">\n                            This website uses&nbsp;\n                            <span id=\"link\" onClick={() => this.goToLink()}><u>cookies</u></span> \n                            &nbsp;to ensure you get the best experience on our website.\n                        </CardContent>\n                        <CardActions id=\"cc_confirm\">\n                            <Button size=\"small\" variant=\"contained\" color=\"default\" onClick={() => this.handleClose()}>\n                                Got it!\n                            </Button>\n                        </CardActions>\n                    </Card>\n                </Slide>\n            </div>\n        );\n    }\n}\n","import React from 'react';\r\nimport { Typography, Button, ListItem, Grid } from '@material-ui/core';\r\nimport GoogleLogin from 'react-google-login';\r\nimport { navigate } from 'react-mini-router';\r\nimport './component_style/MainPage.css';\r\nimport firebase from '../firebase.js';\r\nimport { setCookie, getCookie } from '../cookies';\r\n\r\nimport openSocket from 'socket.io-client';\r\nimport HelpView from './Help';\r\nimport CookieConsent from './CookieConsent';\r\nimport CookieWarning from './CookieWarning';\r\n\r\nconst socket = openSocket('http://localhost:5000');\r\nvar config = require('../config.json');\r\n\r\n// tried not to hardcode this but oh well\r\nlet signInUrl = config.Global.signInUrl;\r\n\r\nsocket.on('send_url', url => {\r\n    signInUrl = url;\r\n})\r\n\r\n/**\r\n * Main View, just contains buttons for navigating to organizer and voting\r\n * views.\r\n * TODO: Clean up the button styling a bit\r\n */\r\nexport default class MainPage extends React.Component {\r\n    ChangeView(page) {\r\n        navigate(page);\r\n    }\r\n\r\n    GetCookies(page) {\r\n        const cookiesValue = getCookie('UserID');\r\n        const consentValue = getCookie('TalliConsent');\r\n        if (consentValue === \"\") {\r\n            this.warningChild.current.handleOpen();\r\n        } else {\r\n            if (cookiesValue === \"\") {\r\n                const userID = \"\" + Math.random().toString(36).substr(2, 9);\r\n                setCookie(\"UserID\", userID, 30);\r\n                const itemsRef = firebase.database().ref('cookies');\r\n                itemsRef.child(userID).set(userID);\r\n            }\r\n            navigate(page);\r\n        }\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            url: signInUrl\r\n        };\r\n        // this.sendLoginRequest = this.sendLoginRequest.bind(this);\r\n        this.helpChild = React.createRef();\r\n        this.warningChild = React.createRef();\r\n    }\r\n\r\n    gaveConsent = () => {\r\n        const consentValue = getCookie('TalliConsent');\r\n        return (consentValue !== \"\");\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"content\">\r\n                <br />\r\n                <HelpView ref={this.helpChild} />\r\n                <CookieWarning ref={this.warningChild} />\r\n                <Typography variant=\"h4\" align=\"center\" gutterBottom>Welcome to Talli!</Typography>\r\n                <Grid container justify=\"center\">\r\n                    <div className=\"buttons\">\r\n                        <ListItem>\r\n                            <Button variant=\"contained\" color=\"secondary\" className=\"buttons\" onClick={() => this.GetCookies('/vote')}>Vote as an Event Attendee</Button>\r\n                        </ListItem>\r\n\r\n                        <ListItem>\r\n                            <GoogleLogin\r\n                                clientId=\"1061225539650-cp3lrdn3p1u49tsq320l648hcuvg8plb.apps.googleusercontent.com\"\r\n                                render={renderProps => (\r\n                                    <Button variant=\"contained\" color=\"primary\" className=\"buttons\" onClick={renderProps.onClick}>Login as an Event Organizer</Button>\r\n                                )}\r\n                                onSuccess={this.onSuccess.bind(this)}\r\n                                onFailure={this.onFailure.bind(this)} />\r\n                            {/* Nick messing around with other login possibilities */}\r\n                            {/* <Button variant=\"contained\" color=\"primary\" className=\"buttons\" onClick={() => this.sendLoginRequest()}>Organizer Login</Button> */}\r\n                        </ListItem>\r\n                    </div>                  \r\n                </Grid>\r\n                <div className=\"links\">\r\n                    <Typography variant=\"body2\" id=\"aboutLink\" onClick={() => this.helpChild.current.handleOpen()}>\r\n                         <u>About Talli</u>\r\n                    </Typography>  \r\n                </div>\r\n                {/* <a href={signInUrl}>Sign in w google new way</a> */}\r\n                <br />\r\n                \r\n                {\r\n                    !this.gaveConsent() && <CookieConsent nav={this.ChangeView} />\r\n                }\r\n                \r\n            </div>\r\n        );\r\n    }\r\n\r\n    onSuccess(response) {\r\n        this.props.onSuccess(response);\r\n        this.ChangeView('/organizer');\r\n    }\r\n\r\n    onFailure() {\r\n        console.log(\"Login failed\");\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Slide, Dialog, DialogTitle, DialogContent, DialogActions } from '@material-ui/core';\r\nimport '../../component_style/Voter.css';\r\nimport { getCookie } from '../../../cookies.js';\r\nimport firebase from '../../../firebase.js';\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\n/**\r\n * Confirm that the attendee wants to submit, unimplemented\r\n */\r\nexport default class SubmitConfirm extends React.Component {\r\n    state = {\r\n        open: false,\r\n    };\r\n\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    SubmitRankings() {\r\n        // TODO: Handle Ranking submission and flagging UID as submitted here\r\n        // Ranked entries are contained in this.props.items\r\n        const cookie = getCookie('UserID');\r\n        const itemsRef = firebase.database().ref(`attendees/${cookie}`);\r\n        itemsRef.child(\"currentEvent\").set('');\r\n        itemsRef.child(`pastEvents/${this.props.eventID}/`).set(this.props.eventID);\r\n        this.props.handler();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\r\n                    <DialogTitle>\r\n                        Confirm Submission\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        You may only submit your rankings for this event <b>once.</b>\r\n                        <br /><br />\r\n                        Would you like to continue?\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose}>Go Back</Button>\r\n                        <Button onClick={() => this.SubmitRankings()} color=\"primary\">Confirm</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nexport default class Countdown extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            days: 0,\r\n            hours: 0,\r\n            min: 0,\r\n            sec: 0,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        // update every second\r\n        const startDate = this.calculateCountdown(this.props.date);\r\n        startDate ? this.setState(startDate) : this.finish();\r\n        this.interval = setInterval(() => {\r\n            const date = this.calculateCountdown(this.props.date);\r\n            date ? this.setState(date) : this.finish();\r\n        }, 1000);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.stop();\r\n    }\r\n\r\n    calculateCountdown(endDate) {\r\n        let diff = (Date.parse(new Date(endDate)) - Date.parse(new Date())) / 1000;\r\n\r\n        // clear countdown when date is reached\r\n        if (diff <= 0) return false;\r\n\r\n        const timeLeft = {\r\n            years: 0,\r\n            days: 0,\r\n            hours: 0,\r\n            min: 0,\r\n            sec: 0,\r\n            millisec: 0,\r\n        };\r\n\r\n        // calculate time difference between now and expected date\r\n        if (diff >= (365.25 * 86400)) { // 365.25 * 24 * 60 * 60\r\n            timeLeft.years = Math.floor(diff / (365.25 * 86400));\r\n            diff -= timeLeft.years * 365.25 * 86400;\r\n        }\r\n        if (diff >= 86400) { // 24 * 60 * 60\r\n            timeLeft.days = Math.floor(diff / 86400);\r\n            diff -= timeLeft.days * 86400;\r\n        }\r\n        if (diff >= 3600) { // 60 * 60\r\n            timeLeft.hours = Math.floor(diff / 3600);\r\n            diff -= timeLeft.hours * 3600;\r\n        }\r\n        if (diff >= 60) {\r\n            timeLeft.min = Math.floor(diff / 60);\r\n            diff -= timeLeft.min * 60;\r\n        }\r\n        timeLeft.sec = diff;\r\n\r\n        return timeLeft;\r\n    }\r\n\r\n    stop() {\r\n        clearInterval(this.interval);\r\n    }\r\n\r\n    finish() {\r\n        clearInterval(this.interval);\r\n        this.props.onFinished();\r\n    }\r\n\r\n    addLeadingZeros(value) {\r\n        let valueStr = String(value);\r\n        while (valueStr.length < 2) {\r\n            valueStr = `0${valueStr}`;\r\n        }\r\n        return valueStr;\r\n    }\r\n\r\n    render() {\r\n        const countDown = this.state;\r\n        let renderCount;\r\n\r\n\r\n        if (countDown.days > 7) {\r\n            renderCount = (\r\n                <>\r\n                    <strong>{this.addLeadingZeros(countDown.days)}</strong>\r\n                    <span> Days</span>\r\n                </>\r\n            );\r\n        } else if (countDown.days > 0) {\r\n            renderCount = (\r\n                <>\r\n                    <strong>{this.addLeadingZeros(countDown.days)}</strong>\r\n                    <span>{countDown.days === 1 ? ' Day, ' : ' Days, '}</span>\r\n                    <strong>{this.addLeadingZeros(countDown.hours)}</strong>\r\n                    <span>Hours</span>\r\n                </>\r\n            );\r\n        } else if (countDown.hours > 1) {\r\n            renderCount = (\r\n                <>\r\n                    <strong>{this.addLeadingZeros(countDown.hours)}</strong>\r\n                    <span> Hours, </span>\r\n                    <strong>{this.addLeadingZeros(countDown.min)}</strong>\r\n                    <span> Min</span>\r\n                </>\r\n            );\r\n        } else {\r\n            renderCount = (\r\n                <>\r\n                    <strong>{this.addLeadingZeros(countDown.min)}</strong>\r\n                    <span> Min, </span>\r\n                    <strong>{this.addLeadingZeros(countDown.sec)}</strong>\r\n                    <span> Sec</span>\r\n\r\n                </>\r\n            );\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"Countdown\">\r\n                {renderCount}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nCountdown.defaultProps = {\r\n    date: new Date()\r\n};\r\n","import React from 'react';\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, Slide } from '@material-ui/core';\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nexport default class EventClosed extends React.Component {\r\n    state = {\r\n        open: false,\r\n    };\r\n\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.props.handler();\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\r\n                    <DialogTitle>\r\n                        Event Closed\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        The event {this.props.eventName} has concluded.  Your latest rankings have been automatically submitted.\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">Close</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { SortableContainer, SortableElement, SortableHandle, arrayMove } from 'react-sortable-hoc';\r\nimport SliderIcon from '@material-ui/icons/Sort';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport BellIcon from '@material-ui/icons/NotificationImportant';\r\nimport openSocket from 'socket.io-client';\r\nimport firebase from '../../firebase';\r\nimport { getCookie } from '../../cookies.js';\r\nimport SubmitConfirm from './Dialogs/SubmitConfirm';\r\nimport Countdown from './Countdown';\r\nimport EventClosed from './Dialogs/EventClosed';\r\nimport '../component_style/RankingContainer.css';\r\n\r\nconst socket = openSocket('http://localhost:5000');\r\n\r\nconst DragHandle = SortableHandle(() => <span><SliderIcon className=\"Sliders\" /></span>);\r\n\r\nconst SortableItem = SortableElement(({ value, item }) =>\r\n    <li className=\"rankings\">\r\n        <div id='rankNumber'>{item + 1}</div>\r\n        <div id='rankTitle'>{value}</div>\r\n        <DragHandle id='rankHandle' />\r\n    </li>\r\n);\r\n\r\nconst SortableList = SortableContainer(({ items }) => {\r\n    return (\r\n        <ul>\r\n            {items.length !== 0 ? <div/> : <div>Tap the Plus to add an entry</div>}\r\n            {items.map((value, index) => (\r\n                <SortableItem key={`item-${index}`} item={index} index={index} value={value.name} />\r\n            ))}\r\n        </ul>\r\n    );\r\n});\r\n\r\nexport default class SortContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            items: [],\r\n            event: {\r\n                id: '',\r\n                name: '',\r\n                location: '',\r\n                startDate: '',\r\n                endDate: '',\r\n                automate: false,\r\n                startVote: '',\r\n                endVote: '',\r\n                entries: []\r\n            },\r\n        };\r\n        this.handleAddEvent = this.handleAddEvent.bind(this);\r\n        this.submitConfirm = this.submitConfirm.bind(this);\r\n        this.submitted = this.submitted.bind(this);\r\n        this.countdownFinished = this.countdownFinished.bind(this);\r\n\r\n        this.confirmChild = React.createRef();\r\n        this.closedChild = React.createRef();\r\n    }\r\n\r\n    handleAddEvent(e) {\r\n        e.preventDefault();\r\n        this.props.updateItemsHandler(this.state.items);\r\n        this.props.handler(this.props.voteViews.ADD);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            items: this.props.rankItems,\r\n        }, () => {\r\n            firebase.database().ref(`/organizer/${this.props.organizer}/event/`).once('value').then(snapshot => {\r\n                const events = snapshot.val();\r\n                if (!events || !events[this.props.eventID]) {\r\n                    // Error\r\n                    console.log('DEV ERROR');\r\n                }\r\n                const eventBase = events[this.props.eventID].eventData;\r\n                const eventEntries = events[this.props.eventID].entries;\r\n                const itemList = this.state.items;\r\n                if (eventEntries && this.props.entryToAdd && !this.state.items.some(e => e.id === this.props.entryToAdd)) {\r\n                    itemList.push({ name: eventEntries[this.props.entryToAdd].title, id: this.props.entryToAdd });\r\n                    this.updateDatabaseRankings(itemList);\r\n                }\r\n                this.setState({\r\n                    event: {\r\n                        id: eventBase['id'],\r\n                        name: eventBase['name'],\r\n                        location: eventBase['location'],\r\n                        startDate: eventBase['startDate'],\r\n                        endDate: eventBase['endDate'],\r\n                        automate: eventBase['automate'],\r\n                        startVote: eventBase['startVote'],\r\n                        endVote: eventBase['endVote'],\r\n                        entries: eventEntries\r\n                    },\r\n                    items: itemList,\r\n                }, () => {\r\n                    this.props.updateItemsHandler(this.state.items);\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    onSortEnd = ({ oldIndex, newIndex }) => {\r\n        this.setState({\r\n            items: arrayMove(this.state.items, oldIndex, newIndex),\r\n        });\r\n        this.updateDatabaseRankings(this.state.items);\r\n    };\r\n\r\n    updateDatabaseRankings(items) {\r\n        const cookie = getCookie('UserID');\r\n        const ref = firebase.database().ref(`event/${this.props.eventID}/attendees/${cookie}/rankings/`);\r\n        for (let i = 0; i < items.length; i++) {\r\n            ref.child(items[i].id).set(i + 1);\r\n        }\r\n    }\r\n\r\n    submitConfirm() {\r\n        this.props.updateItemsHandler(this.state.items);\r\n        this.confirmChild.current.handleOpen();\r\n    }\r\n\r\n    submitted() {\r\n        const items = this.state.items;\r\n        const organizerId = this.props.organizer;\r\n        let eventId = this.state.event.id;\r\n        socket.emit('send_votes', {\r\n            eventId,\r\n            organizerId,\r\n            votes: items\r\n        });\r\n        this.props.handler(this.props.voteViews.SUBMITTED);\r\n    }\r\n\r\n    countdownFinished() {\r\n        const cookie = getCookie('UserID');\r\n        const itemsRef = firebase.database().ref(`attendees/${cookie}`);\r\n        itemsRef.child(\"currentEvent\").set('');\r\n        itemsRef.child(`pastEvents/${this.props.eventID}/`).set(this.props.eventID);\r\n        this.closedChild.current.handleOpen();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <EventClosed handler={this.submitted} ref={this.closedChild} eventName={this.state.event.name} />\r\n                <SubmitConfirm handler={this.submitted} ref={this.confirmChild} items={this.state.items} eventID={this.state.event.id} />\r\n                <Typography variant='h4' align='center' className=\"eventName\" gutterBottom>{this.state.event.name}</Typography>\r\n                <div style={{ textAlign: 'center' }}>\r\n                    <AddCircleIcon className=\"AddEvent\" id='addEntry' color='secondary' onClick={this.handleAddEvent} />\r\n                </div>\r\n                <div>\r\n                    <div className=\"SortContainer\">\r\n                        <SortableList\r\n                            items={this.state.items}\r\n                            onSortEnd={this.onSortEnd}\r\n                            lockAxis='y'\r\n                            useDragHandle={true}\r\n                            helperClass='sortHelp'\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {this.state.event.automate ? (\r\n                    <div className='SubmitDiv'>\r\n                        <BellIcon className='BellIcon' />\r\n                        <div className='SubmitText'>\r\n                            Voting will close in:\r\n                                <Countdown date={this.state.event.endVote} onFinished={this.countdownFinished} />\r\n                        </div>\r\n                        <div className='buttonDiv'>\r\n                            <Button variant=\"contained\" color=\"primary\" onClick={this.submitConfirm}> Submit </Button>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <div className='CenterSubmitDiv'>\r\n                        <div className='CenterButtonDiv'>\r\n                            <Button variant=\"contained\" color=\"primary\" onClick={this.submitConfirm}> Submit </Button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, Slide } from '@material-ui/core';\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n  }\r\n\r\nexport default class EntryConfirmation extends React.Component {\r\n    state = {\r\n        open: false,\r\n    };\r\n\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    handleConfirm = () => {\r\n        this.setState({ open: false });\r\n        this.props.handler();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\r\n                    <DialogTitle>\r\n                        Confirmation\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        This ID is for: <br/>\r\n                        <b>{this.props.entryName}.</b>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose}>Go Back</Button>\r\n                        <Button onClick={this.handleConfirm} color=\"primary\">Confirm</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, Slide } from '@material-ui/core';\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nexport default class NotFound extends React.Component {\r\n    state = {\r\n        open: false,\r\n    };\r\n\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\r\n                    <DialogTitle>\r\n                        {this.props.idType} not found.\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        There is no {this.props.idType} that matches the ID: {this.props.id}\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">Go Back</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, Slide } from '@material-ui/core';\n\nfunction Transition(props) {\n    return <Slide direction=\"up\" {...props} />;\n}\n\nexport default class BlockJoin extends React.Component {\n    state = {\n        open: false,\n    };\n\n    handleOpen = () => {\n        this.setState({ open: true });\n    };\n\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n\n    render() {\n        return (\n            <div>\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\n                    <DialogTitle>\n                        Alerts\n                    </DialogTitle>\n                    <DialogContent>\n                        You have already {\n                            (this.props.idType === 'Event') ? 'voted in ' : 'added '\n                        }\n                        the {this.props.idType}: {this.props.entryName}\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">Go Back</Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}","import React from 'react';\r\nimport { Typography, TextField, Button } from '@material-ui/core';\r\nimport QrReader from 'react-qr-reader';\r\nimport EntryConfirmation from './Dialogs/EntryConfirmation';\r\nimport firebase from '../../firebase';\r\nimport '../component_style/Voter.css';\r\nimport NotFound from './Dialogs/NotFound';\r\nimport BlockJoin from './Dialogs/BlockJoin';\r\nvar config = require('../../config.json');\r\n\r\n/**\r\n * Entry Add\r\n */\r\nexport default class AddEntryVote extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        /** ::STATE INFO::\r\n         *  entryID:        Entry's UID, obtained either from QRcode or textfield\r\n         *  idFieldValue:   The value currently in the textbox\r\n         */\r\n        this.state = { entryID: '', idFieldValue: '', entryTitle: '' };\r\n        this.handleScan = this.handleScan.bind(this);\r\n        this.handleError = this.handleError.bind(this);\r\n        this.handleText = this.handleText.bind(this);\r\n        this.handleAddEntry = this.handleAddEntry.bind(this);\r\n        this.keyPress = this.keyPress.bind(this);\r\n\r\n        this.confirmChild = React.createRef();\r\n        this.notFoundChild = React.createRef();\r\n        this.blockChild = React.createRef();\r\n    }\r\n\r\n    requestConfirm = () => {\r\n        let itemMatch = this.props.rankItems.filter(item => item.id === this.state.entryID);\r\n        if (itemMatch.length > 0) {\r\n            this.setState({ entryTitle: itemMatch[0].name }, () => {\r\n                this.blockChild.current.handleOpen();\r\n            });\r\n            return;\r\n        }\r\n        firebase.database().ref('organizer/').once('value').then((snapshot) => {\r\n            let organizer = snapshot.val();\r\n            let event = organizer[this.props.organizer]['event'][this.props.eventID];\r\n            let entry = event['entries'][this.state.entryID];\r\n            if (!entry) {\r\n                this.notFoundChild.current.handleOpen();\r\n                return;\r\n            }\r\n            this.setState({ entryTitle: entry['title'] }, () => {\r\n                this.confirmChild.current.handleOpen();\r\n            });\r\n        });\r\n    }\r\n\r\n    handleScan(data) {\r\n        if (data && data.toLowerCase().includes(config.Global.entryQRPrefix)) {\r\n            var id = data.substring(data.indexOf(config.Global.entryQRPrefix) + 7).replace(/\\W/g, '');\r\n            this.setState({ entryID: id });\r\n            this.requestConfirm();\r\n        }\r\n    }\r\n\r\n    handleText() {\r\n        if (this.state.idFieldValue.length > 2) {\r\n            this.setState({ entryID: this.state.idFieldValue }, () => {\r\n                this.requestConfirm();\r\n            });\r\n        }\r\n    }\r\n\r\n    handleAddEntry() {\r\n        this.props.handler(this.props.voteViews.RANK, 'na', 'na', this.state.entryID);\r\n    }\r\n\r\n    handleGoBack = () => {\r\n        this.props.handler(this.props.voteViews.RANK);\r\n    }\r\n\r\n    handleError(err) { }\r\n\r\n    keyPress(e) {\r\n        if (e.key === 'Enter') {\r\n            this.handleText();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <NotFound ref={this.notFoundChild} idType={'Entry'} id={this.state.entryID} />\r\n                <EntryConfirmation entryName={this.state.entryTitle} ref={this.confirmChild} handler={this.handleAddEntry} />\r\n                <BlockJoin entryName={this.state.entryTitle} idType={'Entry'} ref={this.blockChild} />\r\n                <QrReader delay={300} onScan={this.handleScan} onError={this.handleError} style={{ width: '80%', margin: '20px auto 0px' }} />\r\n                <Typography variant='h5' align='center' className=\"QRText\">Scan QR Code or enter Entry ID:</Typography>\r\n                <div className=\"textField\">\r\n                    <TextField\r\n                        id=\"outlined-dense\"\r\n                        label=\"Entry ID\"\r\n                        margin=\"dense\"\r\n                        variant=\"outlined\"\r\n                        value={this.state.idFieldValue}\r\n                        onKeyPress={this.keyPress}\r\n                        onChange={e => this.setState({ idFieldValue: e.target.value })}\r\n                    />\r\n                </div>\r\n                <div className=\"submitButtonContainer\">\r\n                    <Button variant=\"contained\" color=\"default\" className=\"goBackButton\" onClick={this.handleGoBack}>\r\n                        Back\r\n                    </Button>\r\n                    <Button variant=\"contained\" color=\"primary\" className=\"confirmButton\" onClick={this.handleText}>\r\n                        Add\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, Slide } from '@material-ui/core';\n\nfunction Transition(props) {\n    return <Slide direction=\"up\" {...props} />;\n}\n\nexport default class EarlyJoin extends React.Component {\n    state = {\n        open: false,\n    };\n\n    handleOpen = () => {\n        this.setState({ open: true });\n    };\n\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n\n    render() {\n        return (\n            <div>\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\n                    <DialogTitle>\n                        Alerts\n                    </DialogTitle>\n                    <DialogContent>\n                        The event, <b>{this.props.eventName}</b>, has not started yet.\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">Go Back</Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, Slide } from '@material-ui/core';\n\nfunction Transition(props) {\n    return <Slide direction=\"up\" {...props} />;\n}\n\nexport default class ClosedJoin extends React.Component {\n    state = {\n        open: false,\n    };\n\n    handleOpen = () => {\n        this.setState({ open: true });\n    };\n\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n\n    render() {\n        return (\n            <div>\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\n                    <DialogTitle>\n                        Alerts\n                    </DialogTitle>\n                    <DialogContent>\n                        The voting period for <b>{this.props.eventName}</b> has closed.\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">Go Back</Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, Slide } from '@material-ui/core';\n\nfunction Transition(props) {\n    return <Slide direction=\"up\" {...props} />;\n}\n\nexport default class RejoinClosed extends React.Component {\n    state = {\n        open: false,\n    };\n\n    handleOpen = () => {\n        this.setState({ open: true });\n    };\n\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n\n    render() {\n        return (\n            <div>\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\n                    <DialogTitle>\n                        Alerts\n                    </DialogTitle>\n                    <DialogContent>\n                        The event you were participating in, <b>{this.props.eventName}</b>, has closed.\n                        Your vote has been automatically submitted.\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"primary\">Go Back</Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}","import React from 'react';\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, Slide } from '@material-ui/core';\r\n\r\nfunction Transition(props) {\r\n    return (<Slide direction=\"up\" {...props} />);\r\n  }\r\n\r\nexport default class RejoinEvent extends React.Component {\r\n    state = {\r\n        open: false,\r\n    };\r\n\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    handleConfirm = () => {\r\n        this.setState({ open: false });\r\n        this.props.handler();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\r\n                    <DialogTitle>\r\n                        Current Event\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        You are currently signed in to:\r\n                        <br />\r\n                        <b>{this.props.entryName}</b>\r\n                        <br />\r\n                        Would you like to rejoin?\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose}>No</Button>\r\n                        <Button onClick={this.handleConfirm} color=\"primary\">Yes</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport QrReader from 'react-qr-reader';\r\nimport { TextField, Typography, Button } from '@material-ui/core';\r\nimport EntryConfirmation from './Dialogs/EntryConfirmation';\r\nimport '../component_style/Voter.css';\r\nimport firebase from '../../firebase';\r\nimport { getCookie } from '../../cookies.js';\r\nimport BlockJoin from './Dialogs/BlockJoin';\r\nimport EarlyJoin from './Dialogs/EarlyJoin';\r\nimport ClosedJoin from './Dialogs/ClosedJoin';\r\nimport RejoinClosed from './Dialogs/RejoinClosed';\r\nimport NotFound from './Dialogs/NotFound';\r\nimport RejoinEvent from './Dialogs/RejoinEvent';\r\n\r\nconst config = require('../../config.json');\r\n\r\n/**\r\n * Join Event via QR Code or UID\r\n */\r\nexport default class JoinEvent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        /** ::STATE INFO::\r\n         *  eventID:        Event's UID, obtained either from QRcode or textfield\r\n         *  idFieldValue:   The value currently in the textbox\r\n         */\r\n        this.state = { eventID: '', idFieldValue: '', eventName: '', organizerID: '' };\r\n        this.handleScan = this.handleScan.bind(this);\r\n        this.handleError = this.handleError.bind(this);\r\n        this.handleText = this.handleText.bind(this);\r\n        this.handleJoinEvent = this.handleJoinEvent.bind(this);\r\n        this.keyPress = this.keyPress.bind(this);\r\n        this.handleRejoinEvent = this.handleRejoinEvent.bind(this);\r\n\r\n        this.confirmChild = React.createRef();\r\n        this.earlyJoinChild = React.createRef();\r\n        this.closedJoinChild = React.createRef();\r\n        this.blockChild = React.createRef();\r\n        this.notFoundChild = React.createRef();\r\n        this.rejoinChild = React.createRef();\r\n        this.rejoinClosedChild = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const cookie = getCookie('UserID');\r\n        firebase.database().ref(`attendees/${cookie}`).once('value').then(cookieSnap => {\r\n            const allCookies = cookieSnap.val();\r\n            if (allCookies && allCookies.currentEvent) {\r\n                firebase.database().ref('event/').once('value').then(orgSnap => {\r\n                    const orgID = orgSnap.val()[allCookies.currentEvent];\r\n                    this.setState({ organizerID: (orgID ? orgID['organizer'] : '') }, () => {\r\n                        if (this.state.organizerID && this.state.organizerID !== '') {\r\n                            firebase.database().ref(`/organizer/${this.state.organizerID}/event/${allCookies.currentEvent}`).once('value').then(eventSnap => {\r\n                                const event = eventSnap.val();\r\n                                if (!event) return;\r\n                                this.setState({\r\n                                    eventName: event.eventData.name,\r\n                                    eventID: allCookies.currentEvent,\r\n                                }, () => {\r\n                                    const votingState = this.getVotingState(event['eventData']);\r\n                                    if (votingState === 'closed') {\r\n                                        this.rejoinClosedChild.current.handleOpen();\r\n                                        firebase.database().ref(`attendees/${cookie}/currentEvent`).set('');\r\n                                        return;\r\n                                    }\r\n                                    this.rejoinChild.current.handleOpen();\r\n                                });\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    getVotingState(event) {\r\n        const date = new Date().toISOString();\r\n        if (event.startVote === 'none' || (event.startVote > date)) { // not open yet\r\n            return 'before';\r\n        } else if (event.endVote === 'none' || (event.endVote > date)) { // open\r\n            return 'open';\r\n        }\r\n        return 'closed';\r\n    }\r\n\r\n    requestConfirm = () => {\r\n        firebase.database().ref('event/').once('value').then((snap) => {\r\n            let orgID = snap.val()[this.state.eventID];\r\n            this.setState({ organizerID: (orgID ? orgID.organizer : '') }, () => {\r\n                if (this.state.organizerID && this.state.organizerID !== '') {\r\n                    firebase.database().ref('/organizer/' + this.state.organizerID + '/event/' + this.state.eventID).once('value').then(snapshot => {\r\n                        const event = snapshot.val();\r\n                        if (!event) {\r\n                            // Event not found\r\n                            this.notFoundChild.current.handleOpen();\r\n                            return;\r\n                        }\r\n\r\n                        this.setState({ eventName: event.eventData.name }, () => {\r\n                            // Checks whether an even has not started or has ended\r\n                            const votingState = this.getVotingState(event.eventData);\r\n                            console.log(votingState);\r\n                            if (votingState === 'before') {\r\n                                this.earlyJoinChild.current.handleOpen();\r\n                                return;\r\n                            }\r\n\r\n                            if (votingState === 'closed') {\r\n                                this.closedJoinChild.current.handleOpen();\r\n                                return;\r\n                            }\r\n                            // Checks whether the user has submitted for this event previously\r\n                            const cookies = getCookie('UserID');\r\n                            let check = false;\r\n                            firebase.database().ref(`attendees/${cookies}/pastEvents`).once('value').then(snapshot => {\r\n                                const pastEvents = snapshot.val();\r\n                                for (let c in pastEvents) {\r\n                                    if (c === this.state.eventID) {\r\n                                        check = true;\r\n                                        this.blockChild.current.handleOpen();\r\n                                        return;\r\n                                    }\r\n                                }\r\n                                if (!check) {\r\n                                    this.confirmChild.current.handleOpen();\r\n                                }\r\n                            });\r\n                        });\r\n                    });\r\n                } else {\r\n                    // Event not found\r\n                    this.notFoundChild.current.handleOpen();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    handleScan(data) {\r\n        if (data && data.toLowerCase().includes((config.Global.hostURL + \"/vote/\").toLowerCase())) {\r\n            const id = data.substring(data.indexOf(\"/vote/\") + 6).replace(/\\W/g, '');\r\n            if (this.state.eventID === id) {\r\n                this.handleRejoinEvent();\r\n                return;\r\n            }\r\n            this.setState({ eventID: id });\r\n            this.requestConfirm();\r\n        }\r\n    }\r\n\r\n    handleText() {\r\n        const cookie = getCookie('UserID');\r\n        let currentEventId = '';\r\n        firebase.database().ref(`attendees/${cookie}/currentEvent`).once('value').then(snapshot => {\r\n            currentEventId = snapshot.val();\r\n            console.log(currentEventId);\r\n        });\r\n        if (this.state.idFieldValue === this.state.eventID && this.state.idFieldValue.length > 2 && this.state.eventID === currentEventId) {\r\n            console.log(\"rejoined\");\r\n            this.handleRejoinEvent();\r\n            return;\r\n        }\r\n        this.setState({ eventID: this.state.idFieldValue });\r\n        if (this.state.idFieldValue.length > 2) {\r\n            this.requestConfirm();\r\n        }\r\n    }\r\n\r\n    handleRejoinEvent() {\r\n        const cookie = getCookie(\"UserID\");\r\n        firebase.database().ref(`event/${this.state.eventID}/attendees/${cookie}/rankings/`).once(\"value\").then(rankSnap => {\r\n            const rankings = rankSnap.val();\r\n            const items = [];\r\n            if (rankings) {\r\n                for (const item in rankings) {\r\n                    if (item) {\r\n                        items[rankings[item] - 1] = item;\r\n                    }\r\n                }\r\n            }\r\n            firebase.database().ref('organizer/').once('value').then(snapshot => {\r\n                const organizer = snapshot.val();\r\n                const event = organizer[this.state.organizerID].event[this.state.eventID];\r\n                const itemList = [];\r\n                for (let i = 0; i < items.length; i++) {\r\n                    const entry = event.entries[items[i]];\r\n                    if (entry) {\r\n                        itemList.push({ name: entry.title, id: entry.id.toString() });\r\n                    }\r\n                }\r\n                this.props.updateItemsHandler(itemList);\r\n            })\r\n                .then(() => {\r\n                    this.handleJoinEvent();\r\n                });\r\n        });\r\n    }\r\n\r\n    handleJoinEvent() {\r\n        const cookie = getCookie('UserID');\r\n        const itemsRef = firebase.database().ref(`attendees/${cookie}`);\r\n        itemsRef.child(\"currentEvent\").set(this.state.eventID);\r\n        this.props.handler(this.props.voteViews.RANK, this.state.eventID, this.state.organizerID);\r\n    }\r\n\r\n    handleError(err) { }\r\n\r\n    keyPress(e) {\r\n        if (e.key === 'Enter') {\r\n            this.handleText();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <RejoinEvent entryName={this.state.eventName} ref={this.rejoinChild} handler={this.handleRejoinEvent} />\r\n                <NotFound ref={this.notFoundChild} idType={'Event'} id={this.state.eventID} />\r\n                <EntryConfirmation entryName={this.state.eventName} ref={this.confirmChild} handler={this.handleJoinEvent} />\r\n                <BlockJoin entryName={this.state.eventName} idType={'Event'} ref={this.blockChild} />\r\n                <EarlyJoin eventName={this.state.eventName} ref={this.earlyJoinChild} />\r\n                <ClosedJoin eventName={this.state.eventName} ref={this.closedJoinChild} />\r\n                <RejoinClosed eventName={this.state.eventName} ref={this.rejoinClosedChild} />\r\n                <QrReader delay={300} onScan={this.handleScan} onError={this.handleError} style={{ width: '80%', margin: '20px auto 0px' }} />\r\n                <Typography variant='h5' align='center' className=\"QRText\">Scan QR Code or enter Event ID:</Typography>\r\n                <div className=\"textField\">\r\n                    <TextField\r\n                        id=\"outlined-dense\"\r\n                        label=\"Event ID\"\r\n                        margin=\"dense\"\r\n                        variant=\"outlined\"\r\n                        value={this.state.idFieldValue}\r\n                        onKeyDown={this.keyPress}\r\n                        onChange={e => this.setState({ idFieldValue: e.target.value })}\r\n                    />\r\n                </div>\r\n                <div className=\"submitButtonContainer\">\r\n                    <Button variant=\"contained\" color=\"primary\" className=\"homeButton\" onClick={this.handleText}>\r\n                        Join\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport { navigate } from 'react-mini-router';\r\nimport '../component_style/Voter.css';\r\n\r\n/**\r\n * Rankings have been submitted, unimplemented\r\n */\r\nexport default class RanksSubmitted extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"SubmissionPage\">\r\n                    <Typography variant='h4' align='center' className='submissionText' gutterBottom>\r\n                        Submission Successful.\r\n                    </Typography>\r\n                    <Typography variant='h5' align='center' className='questionText' gutterBottom>\r\n                        Thank you for your participation!\r\n                    </Typography>\r\n                    <div className=\"buttonContainer\">\r\n                        <Button variant=\"contained\" color=\"default\" className=\"homeButton\" onClick={() => navigate('/')}>\r\n                            <HomeIcon />\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport openSocket from 'socket.io-client';\r\nimport Ranking from './VoterView/RankingContainer';\r\nimport AddEntry from './VoterView/AddEntryVote';\r\nimport JoinEvent from './VoterView/JoinEvent';\r\nimport Submitted from './VoterView/Submitted';\r\n\r\nconst socket = openSocket('http://localhost:5000');\r\n\r\nconst voteViews = {\r\n    JOIN: 'JoinEvent',\r\n    ADD: 'AddEntry',\r\n    RANK: 'Ranking',\r\n    SUBMITTED: 'Submitted',\r\n}\r\n\r\n/**\r\n * Voting view\r\n */\r\nexport default class Voter extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            curView: voteViews.JOIN,\r\n            eventID: '',\r\n            organizerID: '',\r\n            entryToAdd: '',\r\n            rankingItems: [],\r\n        };\r\n        this.changeView = this.changeView.bind(this);\r\n        this.updateItems = this.updateItems.bind(this);\r\n    }\r\n\r\n    updateItems(itemList) {\r\n        this.setState({ rankingItems: itemList }, () => {\r\n            socket.emit('update_rankings', { votes: this.state.rankingItems });\r\n        });\r\n    }\r\n\r\n    changeView(newView, event = 'na', organizer = 'na', addedEntry = '') {\r\n        if (event !== 'na' && organizer !== 'na') {\r\n            this.setState({\r\n                curView: newView,\r\n                eventID: event,\r\n                organizerID: organizer,\r\n                entryToAdd: addedEntry\r\n            });\r\n        } else {\r\n            this.setState({\r\n                curView: newView,\r\n                entryToAdd: addedEntry\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        switch (this.state.curView) {\r\n            case voteViews.ADD:\r\n                return (\r\n                    <AddEntry\r\n                        voteViews={voteViews}\r\n                        eventID={this.state.eventID}\r\n                        organizer={this.state.organizerID}\r\n                        handler={this.changeView}\r\n                        rankItems={this.state.rankingItems}\r\n                    />);\r\n            case voteViews.RANK:\r\n                return (\r\n                    <Ranking\r\n                        voteViews={voteViews}\r\n                        eventID={this.state.eventID}\r\n                        organizer={this.state.organizerID}\r\n                        entryToAdd={this.state.entryToAdd}\r\n                        rankItems={this.state.rankingItems}\r\n                        updateItemsHandler={this.updateItems}\r\n                        handler={this.changeView}\r\n                    />);\r\n            case voteViews.SUBMITTED:\r\n                return (\r\n                    <Submitted\r\n                        voteViews={voteViews}\r\n                        handler={this.changeView}\r\n                    />);\r\n            default:\r\n                return (\r\n                    <JoinEvent\r\n                        voteViews={voteViews}\r\n                        updateItemsHandler={this.updateItems}\r\n                        handler={this.changeView}\r\n                    />);\r\n        }\r\n    }\r\n}","import React from 'react';\nimport 'date-fns';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiPickersUtilsProvider, DateTimePicker, DatePicker } from 'material-ui-pickers';\nimport { Typography, TextField, InputAdornment, Button, FormControlLabel, Switch } from '@material-ui/core';\nimport CalendarIcon from '@material-ui/icons/DateRange';\nimport '../component_style/NewEventForm.css';\nimport '../component_style/Organizer.css';\nimport firebase from '../../firebase.js';\n\nexport default class NewEventForm extends React.Component {\n    state = {\n        eventData: {\n            name: '',\n            id: '',\n            location: '',\n            startDate: new Date(),\n            endDate: new Date(),\n            automate: false,\n            sheetURL: \"\",\n            startVote: new Date(),\n            endVote: new Date(),\n        },\n    }\n\n    // Sends form data to Firebase and navigates to the next page\n    AddEntries = (event) => {\n        event.preventDefault();\n        const item = this.state.eventData;\n        if (!item.id) {\n            item.id = Math.floor((Math.random() * 10000) + 1);\n        }\n        const googleId = this.props.user.googleId;\n\n        const ref = firebase.database().ref('event');\n        ref.once('value', (snapshot) => {\n            let idExists = false;\n            snapshot.forEach((childSnapshot) => {\n                if (childSnapshot.key === item.id) {\n                    idExists = true;\n                }\n            });\n            while (idExists === true) {\n                idExists = false;\n                item.id = Math.floor((Math.random() * 10000) + 1);\n                // eslint-disable-next-line\n                snapshot.forEach((childSnapshot) => {\n                    if (childSnapshot.key === item.id) {\n                        idExists = true;\n                    }\n                });\n            }\n\n            ref.child(item.id).set({ 'organizer': googleId });\n\n            const itemsRef = firebase.database().ref(`organizer/${googleId}/event/${item.id}`);\n            item.startDate = item.startDate.toISOString();\n            item.endDate = item.endDate.toISOString();\n            if (item.automate) {\n                item.startVote = item.startVote.toISOString();\n                item.endVote = item.endVote.toISOString();\n            } else {\n                item.startVote = 'none';\n                item.endVote = 'none';\n            }\n            itemsRef.child('eventData').set(item);\n            this.props.setEvent(item.id);\n            this.props.handler(this.props.orgViews.ADD);\n        });\n    }\n\n    toggleAutomation = () => {\n        const oldData = this.state.eventData;\n        oldData.automate = !this.state.eventData.automate;\n        this.setState({\n            eventData: oldData,\n        });\n    }\n\n    handleEventChange = field => event => {\n        const oldData = this.state.eventData;\n        oldData[field] = event.target.value;\n        this.setState({\n            eventData: oldData,\n        });\n    }\n\n    handleDateChange = field => date => {\n        const oldData = this.state.eventData;\n        oldData[field] = date;\n        this.setState({\n            eventData: oldData,\n        });\n    }\n\n    cancelAddition = () => {\n        this.props.handler(this.props.orgViews.MAIN);\n    }\n\n    render() {\n        return (\n            <div className='newEventForm'>\n                <Typography variant='h4' align='center' gutterBottom>Create a new event</Typography>\n                <form className='eventForm' onSubmit={this.AddEntries}>\n                    <Typography variant='h6'>Event Details</Typography>\n                    <TextField\n                        required\n                        label=\"Event Name\"\n                        margin=\"dense\"\n                        className=\"entryFormText\"\n                        value={this.state.eventData.name}\n                        onChange={this.handleEventChange('name')}\n                        InputLabelProps={{ shrink: true }}\n                    />\n                    <TextField\n                        label=\"ID (auto if blank)\"\n                        margin=\"dense\"\n                        className=\"entryFormText\"\n                        value={this.state.eventData.id}\n                        onChange={this.handleEventChange('id')}\n                        InputLabelProps={{ shrink: true }}\n                    />\n                    <br />\n                    <TextField\n                        required\n                        label=\"Location\"\n                        margin=\"dense\"\n                        className=\"entryFormText\"\n                        value={this.state.eventData.location}\n                        onChange={this.handleEventChange('location')}\n                        InputLabelProps={{ shrink: true }}\n                    />\n                    <br /> <br />\n                    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                        <DatePicker\n                            required\n                            label=\"Start Date\"\n                            margin=\"dense\"\n                            className=\"entryFormText\"\n                            value={this.state.eventData.startDate}\n                            onChange={this.handleDateChange('startDate')}\n                            InputProps={{\n                                startAdornment: (\n                                    <InputAdornment position=\"start\">\n                                        <CalendarIcon />\n                                    </InputAdornment>\n                                ),\n                            }}\n                        />\n                        <DatePicker\n                            required\n                            label=\"End Date\"\n                            margin=\"dense\"\n                            className=\"entryFormText\"\n                            value={this.state.eventData.endDate}\n                            onChange={this.handleDateChange('endDate')}\n                            InputProps={{\n                                startAdornment: (\n                                    <InputAdornment position=\"start\">\n                                        <CalendarIcon />\n                                    </InputAdornment>\n                                ),\n                            }}\n                        />\n                    </MuiPickersUtilsProvider>\n                    <br /> <br />\n                    <FormControlLabel\n                        control={\n                            <Switch\n                                checked={this.state.eventData.automate}\n                                onChange={() => this.toggleAutomation()}\n                                value={this.state.eventData.automate}\n                                color=\"primary\"\n                            />\n                        }\n                        label=\"Automate Voting Time Period?\"\n                        labelPlacement=\"start\"\n                    />\n                    {this.state.eventData.automate &&\n                        <div>\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                                <Typography className=\"votePeriodText\">Start Voting:</Typography>\n                                <DateTimePicker\n                                    margin=\"dense\"\n                                    className=\"entryFormText\"\n                                    value={this.state.eventData.startVote}\n                                    onChange={this.handleDateChange('startVote')}\n                                    InputProps={{\n                                        startAdornment: (\n                                            <InputAdornment position=\"start\">\n                                                <CalendarIcon />\n                                            </InputAdornment>\n                                        ),\n                                    }}\n                                />\n                                <Typography className=\"votePeriodText\">End Voting:</Typography>\n                                <DateTimePicker\n                                    margin=\"dense\"\n                                    className=\"entryFormText\"\n                                    value={this.state.eventData.endVote}\n                                    onChange={this.handleDateChange('endVote')}\n                                    InputProps={{\n                                        startAdornment: (\n                                            <InputAdornment position=\"start\">\n                                                <CalendarIcon />\n                                            </InputAdornment>\n                                        ),\n                                    }}\n                                />\n                            </MuiPickersUtilsProvider>\n                        </div>\n                    }\n                    <br /> <br />\n                    <Button\n                        variant=\"contained\"\n                        className=\"buttons\"\n                        type=\"button\"\n                        onClick={this.cancelAddition}\n                    >\n                        Cancel\n                    </Button>\n                    <Button\n                        variant=\"contained\"\n                        className=\"buttons\"\n                        type=\"submit\"\n                        color=\"primary\"\n                    >\n                        Next\n                    </Button>\n                </form>\n            </div>\n        );\n    }\n}\n","import React from 'react';\r\nimport { Typography, Grid, Button } from '@material-ui/core';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport '../component_style/Organizer.css';\r\nimport firebase from '../../firebase.js';\r\n\r\n/**\r\n * OrganizerView > EventList\r\n * Organizer landing page which shows them all\r\n * of their events and the option to add a new one.\r\n */\r\nexport default class EventList extends React.Component {\r\n    state = {\r\n        events: []\r\n    }\r\n\r\n    componentDidMount() {\r\n        const googleId = this.props.user.googleId;\r\n        const query = firebase.database().ref(`organizer/${googleId}/event`);\r\n        const allEvents = [];\r\n        query.on('value', (snapshot) => {\r\n            const events = snapshot.val();\r\n            for (let event in events) {\r\n                const refPrefix = `${event}/eventData`;\r\n                const id = snapshot.child(`${refPrefix}/id`).val();\r\n                const name = snapshot.child(`${refPrefix}/name`).val();\r\n                const location = snapshot.child(`${refPrefix}/location`).val();\r\n                const startDate = snapshot.child(`${refPrefix}/startDate`).val();\r\n                const endDate = snapshot.child(`${refPrefix}/endDate`).val();\r\n                const automate = snapshot.child(`${refPrefix}/automate`).val();\r\n                const startVote = snapshot.child(`${refPrefix}/startVote`).val();\r\n                const endVote = snapshot.child(`${refPrefix}/endVote`).val();\r\n\r\n                allEvents.push({\r\n                    id,\r\n                    name,\r\n                    location,\r\n                    startDate,\r\n                    endDate,\r\n                    automate,\r\n                    startVote,\r\n                    endVote\r\n                });\r\n            }\r\n            this.setState({\r\n                events: allEvents\r\n            });\r\n        });\r\n    }\r\n\r\n    parseDate(isoDate) {\r\n        const dateString = `${isoDate.substring(5, 7)}/${isoDate.substring(8, 10)}/${isoDate.substring(0, 4)}`;\r\n        return dateString;\r\n    }\r\n\r\n    AddEvent() {\r\n        this.props.handler(this.props.orgViews.CREATE);\r\n        /* unimplemented */\r\n    }\r\n\r\n    viewEvent(id) {\r\n        this.props.setEvent(id);\r\n        this.props.handler(this.props.orgViews.VIEW);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Typography variant='h4' align='center' gutterBottom>{sessionStorage.getItem('name')}'s Events</Typography>\r\n                <Grid container className='organizerEvents'>\r\n                    <Grid item className='eventContainer' id='addEvent'>\r\n                        <AddCircleIcon color='primary' id='addCircleIcon' onClick={() => this.AddEvent()} />\r\n                    </Grid>\r\n                    {this.state.events.map((event, index) => (\r\n                        <Button className=\"eventContainer\" variant=\"contained\" color=\"primary\" id=\"openEvent\" onClick={() => this.viewEvent(event.id)} key={index}>\r\n                            {event.name}\r\n                            <br />\r\n                            {this.parseDate(event.startDate)} - {this.parseDate(event.endDate)}\r\n                            <br />\r\n                            <br />\r\n                            Voting period is {event.automate ? \"automated.\" : \"not automated.\"}\r\n                        </Button>\r\n                    ))}\r\n                </Grid>\r\n                <div />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\nimport '../component_style/Organizer.css';\nimport { TextField } from '@material-ui/core';\n\nexport default class NewEntryForm extends React.Component {\n    state = {\n        show: true,\n        title: this.props.currValue.title,\n        id: this.props.currValue.id,\n        presenters: this.props.currValue.presenters,\n        entry_dates: this.props.currValue.entry_dates,\n    }\n\n    delEntry = () => {\n        this.setState({\n            show: false,\n        }, () => {\n            this.props.updateEntry(this.state, this.props.index);\n        });\n    }\n\n    handleChange = name => event => {\n        this.setState({\n            [name]: event.target.value,\n        }, () => {\n            this.props.updateEntry(this.state, this.props.index);\n        });\n    };\n\n    render() {\n        if (this.state.show) {\n            return (\n                <div className='addEntry'>\n                <br />\n                    <div>\n                        <TextField\n                            required\n                            label=\"Entry Title\"\n                            margin=\"dense\"\n                            className=\"entryFormText\"\n                            value={this.state.title}\n                            onChange={this.handleChange('title')}\n                        />\n                        <TextField\n                            required\n                            label=\"Presenters\"\n                            margin=\"dense\"\n                            className=\"entryFormText\"\n                            value={this.state.presenters}\n                            onChange={this.handleChange('presenters')}\n                        />\n                        <TextField\n                            required\n                            label=\"Date(s) Attending\"\n                            margin=\"dense\"\n                            className=\"entryFormText\"\n                            value={this.state.entry_dates}\n                            onChange={this.handleChange('entry_dates')}\n                        />\n                    </div>\n                    <RemoveCircleOutlineIcon color='primary' id='entryIcon' onClick={this.delEntry}/>\n                </div>\n            );\n        } else {\n            return null;\n        }\n    }\n}","import React from 'react';\nimport { Dialog, DialogTitle, DialogContent, Slide } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport '../../component_style/EntryImportInfo.css';\n\n/**\n * OrganizerView > AddEntryOrg > EntryImportInfo\n * Pop up message for showing import requirements\n * for automatically syncing of entries.\n */\nfunction Transition(props) {\n    return <Slide direction=\"up\" {...props} />;\n  }\n\nexport default class EntryImportInfo extends React.Component {\n    state = {\n        open: false,\n    };\n\n    handleOpen = () => {\n        this.setState({ open: true });\n    };\n\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n\n    render() {\n        return (\n            <div>\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\n                    <CloseIcon onClick={this.handleClose}/>\n                    <DialogTitle>\n                        Import Information\n                    </DialogTitle>\n                    <DialogContent>\n                        Accepted file type: .csv <br/><br/>\n                        Accepted file format: 3 columns in the order of Entry Titles, Presenters, Date(s) Attending\n                        <br/><br/>\n                        *Data is read assuming there is a header row, so the first row will be skipped.\n                        <br/><br/>\n                        Example file:\n                        <table id='table'>\n                            <tbody>\n                                <tr>\n                                    <td>Entry Title</td>\n                                    <td>Presenters</td>\n                                    <td>Date(s) Attending</td>\n                                </tr>\n                                <tr><td /><td /><td /></tr>\n                                <tr><td /><td /><td /></tr>\n                                <tr><td /><td /><td /></tr>\n                            </tbody>\n                        </table>\n                    </DialogContent>\n                </Dialog>\n            </div>\n        );\n    }\n}","import React from 'react';\r\nimport { Typography, Button, Divider } from '@material-ui/core';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport NewEntryForm from './NewEntryForm';\r\nimport EntryImportInfo from './Dialogs/EntryImportInfo';\r\nimport '../component_style/Organizer.css';\r\nimport firebase from '../../firebase.js'\r\n\r\n/**\r\n * OrganizerView > AddEntryOrg\r\n * Allows organizers to add entries to their event\r\n * after setting up the event details (NewEventForm).\r\n */\r\nexport default class AddEntryOrg extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            entries: [],\r\n            alert: \"\"\r\n        };\r\n\r\n        this.infoPopup = React.createRef();\r\n    }\r\n\r\n    openInfo = () => {\r\n        this.infoPopup.current.handleOpen();\r\n    }\r\n\r\n    addEntry = () => {\r\n        const newEntries = this.state.entries.slice();\r\n        newEntries.push({\r\n            show: true,\r\n            title: '',\r\n            id: '',\r\n            presenters: '',\r\n            entry_dates: ''\r\n        });\r\n        this.setState({ entries: newEntries, alert: this.state.alert });\r\n    }\r\n\r\n    updateEntry(status, idx) {\r\n        let updateEntries = this.state.entries;\r\n        updateEntries[idx] = status;\r\n        this.setState({ entries: updateEntries, alert: this.state.alert });\r\n    }\r\n\r\n    cancelAddition = () => {\r\n        this.props.handler(this.props.orgViews.MAIN);\r\n    }\r\n\r\n    submitEntries() {\r\n        // DATABASE:\r\n        // add the entries with shown = true in this.state.entries\r\n        // to the current event\r\n        let googleId = this.props.user.googleId;\r\n\r\n        let eventID = this.props.curEvent;\r\n        const base = 1000 + Math.floor((Math.random() * 8000) + 1);\r\n        for (let i = 0; i < this.state.entries.length; i++) {\r\n            let item = this.state.entries[i];\r\n            if (item.show) {\r\n                item.id = base + i;\r\n                const itemsRef = firebase.database().ref(`organizer/${googleId}/event/${eventID}/entries`);\r\n                itemsRef.child(item.id).set(item);\r\n            }\r\n        }\r\n        this.props.handler(this.props.orgViews.MAIN);\r\n    }\r\n\r\n    readCSV = event => {\r\n        const f = event.target.files[0];\r\n        if (f) {\r\n            const r = new FileReader();\r\n            let a;\r\n            r.onload = (e) => {\r\n                const contents = r.result;\r\n                a = r.result;\r\n                const lines = contents.split(/[\\r\\n]+/g);\r\n                let tempEnt = [];\r\n                let line, line_title, line_pres, line_date;\r\n                for (let i = 1; i < lines.length; i++) {\r\n                    line = lines[i].split(/,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/);\r\n                    if (line.length !== 3 && line.length !== 0) {\r\n                        a = \"File format is incorrect. Please see \\\"Import Requirements\\\" for correct formatting.\";\r\n                        this.setState({ entries: this.state.entries, alert: a });\r\n                        return;\r\n                    }\r\n                    line_title = line[0];\r\n                    line_pres = line[1];\r\n                    line_date = line[2];\r\n                    if (line_title && line_pres && line_date) {\r\n                        tempEnt.push({\r\n                            show: true,\r\n                            title: line_title,\r\n                            id: '',\r\n                            presenters: line_pres,\r\n                            entry_dates: line_date,\r\n                        });\r\n                    } else {\r\n                        a = \"Some required data is missing. Please see \\\"Import Requirements\\\" for correct formatting.\";\r\n                        this.setState({ entries: this.state.entries, alert: a });\r\n                        return;\r\n                    }\r\n                }\r\n                // concat entries here\r\n                a = `Success! Entries from ${f.name} were imported.`;\r\n                this.setState({\r\n                    entries: this.state.entries.concat(tempEnt),\r\n                    alert: a\r\n                });\r\n            };\r\n            r.readAsText(f);\r\n        } else {\r\n            this.setState({ alert: \"Unable to read file.\" });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { entries } = this.state;\r\n        return (\r\n            <div className='addEntryForm'>\r\n                <EntryImportInfo ref={this.infoPopup} />\r\n                <Typography variant='h4' align='center' gutterBottom>Add Entries</Typography>\r\n                <Button variant=\"contained\" component=\"label\" className='buttons' name='import_entries'>\r\n                    Import Entries\r\n                    <input type=\"file\" accept=\".csv\" style={{ display: \"none\" }} onChange={e => this.readCSV(e)} />\r\n                </Button>\r\n                <br /><br />\r\n                <Typography variant='subtitle1' align='center'>{this.state.alert}</Typography>\r\n                <Button variant=\"text\" className='buttons' onClick={this.openInfo} >Click here for import requirements.</Button>\r\n                <Divider variant=\"middle\" />\r\n                <form className=\"entryForm\" onSubmit={() => this.submitEntries()}>\r\n                    {\r\n                        entries.map((val, idx) => {\r\n                            return (\r\n                                <div key={idx}>\r\n                                    <NewEntryForm\r\n                                        currValue={val}\r\n                                        updateEntry={(status, index) => this.updateEntry(status, index)}\r\n                                        index={idx}\r\n                                    />\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                    <AddCircleIcon color='primary' id='entryIcon' onClick={this.addEntry} />\r\n                    <br />\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        className=\"buttons\"\r\n                        type=\"button\"\r\n                        onClick={this.cancelAddition}\r\n                    >\r\n                        Cancel\r\n                    </Button>\r\n                    <Button type=\"submit\" variant=\"contained\" color=\"primary\" className='buttons'>Done</Button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Slide, Dialog, DialogTitle, DialogContent, DialogActions, Button, FormControlLabel, Switch } from '@material-ui/core';\r\nimport qr from 'qr-image';\r\nimport jsPDF from 'jspdf';\r\n\r\nvar config = require('../../../config.json');\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nexport default class ExportOrgData extends React.Component {\r\n    state = {\r\n        open: false,\r\n        exportEntry: true,\r\n        exportEvent: true\r\n    };\r\n\r\n    toggleEntryExport = () => {\r\n        this.setState({\r\n            exportEntry: !this.state.exportEntry,\r\n        });\r\n    }\r\n\r\n    toggleEventExport = () => {\r\n        this.setState({\r\n            exportEvent: !this.state.exportEvent,\r\n        });\r\n    }\r\n\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    generatePDF = () => {\r\n        if (this.state.exportEntry || this.state.exportEvent) {\r\n            // set up document\r\n            var doc = new jsPDF(\"portrait\", \"mm\", \"letter\");\r\n            var title, qr_code;\r\n            var contents = '';\r\n\r\n            if (this.state.exportEvent) {\r\n                // add event qr code\r\n                contents = \"Event\";\r\n                title = \"Event ID: \" + this.props.event.id;\r\n                qr_code = qr.imageSync((config.Global.hostURL + \"/vote/\") + this.props.event.id);\r\n                doc.addImage(qr_code, 'PNG', 58, 20, 100, 100); // (image, type, x, y, w, h)\r\n                doc.text(this.props.event.name, 108, 20, \"center\"); // (string, x, y, align)\r\n                doc.text(title, 108, 125, \"center\");\r\n            }\r\n\r\n            if (this.state.exportEntry) {\r\n                // add entry qr codes\r\n                contents = contents + \"Entries\";\r\n                var entry;\r\n                for (var entryID in this.props.event.entries) {\r\n                    entry = this.props.event.entries[entryID];\r\n                    doc.addPage();\r\n                    title = \"Entry ID: \" + entry['id'];\r\n                    qr_code = qr.imageSync(config.Global.entryQRPrefix + String(entry['id']));\r\n                    doc.addImage(qr_code, 'PNG', 58, 20, 100, 100);\r\n                    doc.text(entry['title'], 108, 20, \"center\");\r\n                    doc.text(title, 108, 125, \"center\");\r\n                }\r\n            }\r\n            // save document to local machine\r\n            var nameNoSpaces = this.props.event.name.replace(/\\s+/g, '');\r\n            doc.save(nameNoSpaces + contents + 'QRCodes.pdf');\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\r\n                    <DialogTitle> Export </DialogTitle>\r\n                    <DialogContent>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Switch\r\n                                    checked={this.state.exportEvent}\r\n                                    onChange={() => this.toggleEventExport()}\r\n                                    value={this.state.exportEvent}\r\n                                    color=\"primary\"\r\n                                />\r\n                            }\r\n                            label=\"Export Event QR\"\r\n                            labelPlacement=\"start\"\r\n                        /> <br/>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Switch\r\n                                    checked={this.state.exportEntry}\r\n                                    onChange={() => this.toggleEntryExport()}\r\n                                    value={this.state.exportEntry}\r\n                                    color=\"primary\"\r\n                                />\r\n                            }\r\n                            label=\"Export Entry QR\"\r\n                            labelPlacement=\"start\"\r\n                        /><br/><br/>\r\n                        <Button variant=\"contained\" onClick={this.generatePDF}>Export QR to PDF</Button>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">Go Back</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Slide, Dialog, DialogTitle, DialogContent, DialogActions, Button, TextField } from '@material-ui/core';\r\nimport firebase from '../../../firebase.js';\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nexport default class EditEntries extends React.Component {\r\n    state = {\r\n        open: false,\r\n        title: '',\r\n        id: '',\r\n        presenters: '',\r\n        entry_dates: ''\r\n    };\r\n\r\n    handleOpen = (entryID) => {\r\n        this.setState({ \r\n            open: true, \r\n            title: this.props.event.entries[entryID]['title'],\r\n            id: entryID,\r\n            presenters: this.props.event.entries[entryID]['presenters'],\r\n            entry_dates: this.props.event.entries[entryID]['entry_dates']\r\n        });\r\n    };\r\n\r\n    handleDelete = () => {\r\n        this.setState({ open: false });\r\n        const itemsRef = firebase.database().ref('organizer/' + this.props.googleId +\r\n                                                 '/event/' + this.props.event.id + \r\n                                                 '/entries/' + this.state.id);\r\n        itemsRef.remove();\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    }\r\n\r\n    handleSaveClose = () => {\r\n        this.setState({ open: false });\r\n        const itemsRef = firebase.database().ref('organizer/' + this.props.googleId +\r\n                                                 '/event/' + this.props.event.id + \r\n                                                 '/entries/' + this.state.id);\r\n        itemsRef.child('title').set(this.state.title);\r\n        itemsRef.child('presenters').set(this.state.presenters);\r\n        itemsRef.child('entry_dates').set(this.state.entry_dates);\r\n    }\r\n\r\n    handleChange = name => event => {\r\n        this.setState({\r\n            [name]: event.target.value\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return !this.state.open ? null : (\r\n            <div>\r\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\r\n                    <DialogTitle> View/Edit Entry </DialogTitle>\r\n                    <DialogContent>\r\n                        <TextField\r\n                            required\r\n                            label=\"Entry Title\"\r\n                            margin=\"dense\"\r\n                            className=\"entryFormText\"\r\n                            defaultValue={this.state.title}\r\n                            onChange={this.handleChange('title')}\r\n                        />\r\n                        <TextField\r\n                            disabled\r\n                            label=\"ID (cannot be changed)\"\r\n                            margin=\"dense\"\r\n                            className=\"entryFormText\"\r\n                            value={this.state.id}\r\n                        />\r\n                        <br />\r\n                        <TextField\r\n                            required\r\n                            label=\"Presenters\"\r\n                            margin=\"dense\"\r\n                            className=\"entryFormText\"\r\n                            defaultValue={this.state.presenters}\r\n                            onChange={this.handleChange('presenters')}\r\n                        />\r\n                        <TextField\r\n                            required\r\n                            label=\"Date(s) Attending\"\r\n                            margin=\"dense\"\r\n                            className=\"entryFormText\"\r\n                            defaultValue={this.state.entry_dates}\r\n                            onChange={this.handleChange('entry_dates')}\r\n                        />\r\n                    </DialogContent>\r\n                    <DialogActions>    \r\n                        <Button onClick={this.handleDelete}>Delete</Button>\r\n                        <Button onClick={this.handleClose}>Cancel</Button>\r\n                        <Button onClick={this.handleSaveClose} color=\"primary\">Save</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Slide, Dialog, DialogTitle, DialogContent, DialogActions, Button, TextField, InputAdornment, FormControlLabel, Switch } from '@material-ui/core';\r\nimport CalendarIcon from '@material-ui/icons/DateRange';\r\nimport { MuiPickersUtilsProvider, DatePicker, DateTimePicker } from 'material-ui-pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport firebase from '../../../firebase';\r\nimport '../../component_style/ViewEvent.css';\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nexport default class EditEvent extends React.Component {\r\n    state = {\r\n        open: false,\r\n        name: '',\r\n        id: '',\r\n        location: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        automate: false,\r\n        startVote: '',\r\n        endVote: '',\r\n        confirmDelete: false,\r\n    };\r\n\r\n    handleOpen = () => {\r\n        this.setState({\r\n            open: true,\r\n            name: this.props.event.name,\r\n            id: this.props.event.id,\r\n            location: this.props.event.location,\r\n            startDate: this.props.event.startDate,\r\n            endDate: this.props.event.endDate,\r\n            automate: this.props.event.automate,\r\n            startVote: this.props.event.startVote,\r\n            endVote: this.props.event.endVote,\r\n        });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    handleSaveClose = () => {\r\n        this.setState({ open: false });\r\n        const itemsRef = firebase.database().ref(\r\n            `organizer/${this.props.googleId}/event/${this.props.event.id}/eventData/`\r\n        );\r\n        const item = this.state;\r\n        itemsRef.child('name').set(item.name);\r\n        itemsRef.child('location').set(item.location);\r\n        itemsRef.child('automate').set(item.automate);\r\n        if (item.startDate !== this.props.event.startDate) {\r\n            itemsRef.child('startDate').set(item.startDate.toISOString());\r\n        }\r\n        if (item.endDate !== this.props.event.endDate) {\r\n            itemsRef.child('endDate').set(item.endDate.toISOString());\r\n        }\r\n        if (item.automate) {\r\n            if (item.startVote !== this.props.event.startVote) {\r\n                itemsRef.child('startVote').set(item.startVote.toISOString());\r\n            }\r\n            if (item.endVote !== this.props.event.endVote) {\r\n                itemsRef.child('endVote').set(item.endVote.toISOString());\r\n            }\r\n        } else {\r\n            itemsRef.child('startVote').set('none');\r\n            itemsRef.child('endVote').set('none');\r\n        }\r\n    }\r\n\r\n    handleChange = field => event => {\r\n        this.setState({\r\n            [field]: event.target.value,\r\n        });\r\n    }\r\n\r\n    handleDateChange = field => date => {\r\n        this.setState({\r\n            [field]: date,\r\n        });\r\n    }\r\n\r\n    toggleAutomation = () => {\r\n        this.setState(prevState => ({\r\n            automate: !prevState.automate,\r\n        }));\r\n    }\r\n\r\n    handleDeleteEvent = () => {\r\n        this.props.handler(this.props.orgViews.MAIN);\r\n        const databaseRef = firebase.database().ref();\r\n        databaseRef.child(`event/${this.state.id}`).remove();\r\n        databaseRef.child(`organizer/${this.props.googleId}/event/${this.state.id}`).remove();\r\n    }\r\n\r\n    render() {\r\n        return !this.state.open ? null : (\r\n            <div>\r\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\r\n                    <DialogTitle> Edit Event </DialogTitle>\r\n                    <DialogContent>\r\n                        <TextField\r\n                            required\r\n                            label=\"Event Name\"\r\n                            margin=\"dense\"\r\n                            className=\"entryFormText\"\r\n                            defaultValue={this.state.name}\r\n                            onChange={this.handleChange('name')}\r\n                        />\r\n                        <TextField\r\n                            disabled\r\n                            label=\"ID (cannot be changed)\"\r\n                            margin=\"dense\"\r\n                            className=\"entryFormText\"\r\n                            value={this.props.event.id}\r\n                        />\r\n                        <br />\r\n                        <TextField\r\n                            required\r\n                            label=\"Location\"\r\n                            margin=\"dense\"\r\n                            className=\"entryFormText\"\r\n                            defaultValue={this.state.location}\r\n                            onChange={this.handleChange('location')}\r\n                        />\r\n                        <br />\r\n                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                            <DatePicker\r\n                                required\r\n                                label=\"Start Date\"\r\n                                margin=\"dense\"\r\n                                className=\"entryFormText\"\r\n                                value={this.state.startDate}\r\n                                onChange={this.handleDateChange('startDate')}\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <CalendarIcon />\r\n                                        </InputAdornment>\r\n                                    ),\r\n                                }}\r\n                            />\r\n                            <DatePicker\r\n                                required\r\n                                label=\"End Date\"\r\n                                margin=\"dense\"\r\n                                className=\"entryFormText\"\r\n                                value={this.state.endDate}\r\n                                onChange={this.handleDateChange('endDate')}\r\n                                InputProps={{\r\n                                    startAdornment: (\r\n                                        <InputAdornment position=\"start\">\r\n                                            <CalendarIcon />\r\n                                        </InputAdornment>\r\n                                    ),\r\n                                }}\r\n                            />\r\n                        </MuiPickersUtilsProvider>\r\n                        <br />\r\n                        <FormControlLabel\r\n                            control={(\r\n                                <Switch\r\n                                    checked={this.state.automate}\r\n                                    onChange={() => this.toggleAutomation()}\r\n                                    value={this.state.automate}\r\n                                    color=\"primary\"\r\n                                />\r\n                            )}\r\n                            label=\"Automate Voting Time Period?\"\r\n                            labelPlacement=\"start\"\r\n                        />\r\n                        {this.state.automate && (\r\n                            <div>\r\n                                <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                    <DateTimePicker\r\n                                        margin=\"dense\"\r\n                                        className=\"entryFormText\"\r\n                                        label=\"Start Voting\"\r\n                                        value={this.state.startVote ? this.state.startVote : new Date()}\r\n                                        onChange={this.handleDateChange('startVote')}\r\n                                        InputProps={{\r\n                                            startAdornment: (\r\n                                                <InputAdornment position=\"start\">\r\n                                                    <CalendarIcon />\r\n                                                </InputAdornment>\r\n                                            ),\r\n                                        }}\r\n                                    />\r\n                                    <DateTimePicker\r\n                                        margin=\"dense\"\r\n                                        className=\"entryFormText\"\r\n                                        label=\"End Voting\"\r\n                                        value={this.state.endVote ? this.state.endVote : new Date()}\r\n                                        onChange={this.handleDateChange('endVote')}\r\n                                        InputProps={{\r\n                                            startAdornment: (\r\n                                                <InputAdornment position=\"start\">\r\n                                                    <CalendarIcon />\r\n                                                </InputAdornment>\r\n                                            ),\r\n                                        }}\r\n                                    />\r\n                                </MuiPickersUtilsProvider>\r\n                            </div>\r\n                        )}\r\n                        <br />\r\n                        {!this.state.confirmDelete ? (\r\n                            <Button variant=\"contained\" style={{ background: \"#B00020\", color: \"#FFFFFF\" }} onClick={() => { this.setState({ confirmDelete: true, }); }}>\r\n                                Delete Event\r\n                            </Button>\r\n                        ) : (\r\n                            <>\r\n                                <p>Are you sure you want to delete this event? <br /> (this cannot be undone)</p>\r\n                                <Button className=\"button1\" variant=\"contained\" color=\"primary\" onClick={() => this.handleDeleteEvent()}> Yes </Button>\r\n                                <Button className=\"button1\" variant=\"contained\" color=\"default\" onClick={() => { this.setState({ confirmDelete: false, }); }}> No </Button>\r\n                            </>\r\n                        )}\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">Go Back</Button>\r\n                        <Button onClick={this.handleSaveClose} color=\"primary\">Save</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport firebase from '../../../firebase.js';\r\nimport { Slide, Dialog, DialogTitle, DialogContent, DialogActions, Button } from '@material-ui/core';\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nexport default class EditVoting extends React.Component {\r\n    state = {\r\n        open: false,\r\n    };\r\n\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    openVoting = () => {\r\n        const itemsRef = firebase.database().ref(`organizer/${this.props.googleId}/event/${this.props.event.id}/eventData/`);\r\n        itemsRef.child('startVote').set(new Date().toISOString());\r\n        itemsRef.child('endVote').set('none');\r\n        this.handleClose();\r\n    }\r\n\r\n    closeVoting = () => {\r\n        const itemsRef = firebase.database().ref(`organizer/${this.props.googleId}/event/${this.props.event.id}/eventData/`);\r\n        itemsRef.child('endVote').set(new Date().toISOString());\r\n        this.handleClose();\r\n    }\r\n\r\n    reopenVoting = () => {\r\n        const itemsRef = firebase.database().ref(`organizer/${this.props.googleId}/event/${this.props.event.id}/eventData/`);\r\n        itemsRef.child('startVote').set(new Date().toISOString());\r\n        itemsRef.child('endVote').set('none');\r\n        this.handleClose();\r\n    }\r\n\r\n    getVotingState() {\r\n        if (this.props.event.startVote === 'none' || (this.props.event.startVote > new Date().toISOString())) { // not open yet\r\n            return 'before';\r\n        } else if (this.props.event.endVote === 'none' || (this.props.event.endVote > new Date().toISOString())) { // open\r\n            return 'open';\r\n        }\r\n        return 'closed';\r\n    }\r\n\r\n    addLeadingZeros(value) {\r\n        let valueStr = String(value);\r\n        while (valueStr.length < 2) {\r\n            valueStr = `0${valueStr}`;\r\n        }\r\n        return valueStr;\r\n    }\r\n\r\n    parseDate(isoDate) {\r\n        const dateString = `${isoDate.substring(5, 7)}/${isoDate.substring(8, 10)}/${isoDate.substring(0, 4)}`;\r\n        return dateString;\r\n    }\r\n\r\n    parseTime(isoDate) {\r\n        const date = new Date(isoDate);\r\n        const timeString = `${date.getHours()}:${this.addLeadingZeros(date.getMinutes())}`;\r\n        return timeString;\r\n    }\r\n\r\n    renderOptions() {\r\n        switch (this.getVotingState()) {\r\n            case 'before':\r\n                return (\r\n                    <DialogContent>\r\n                        The voting period has not been opened.<br /><br />\r\n                        Automated voting period {this.props.event.automate ? 'is' : 'is not'} enabled. <br />\r\n                        {this.props.event.automate ? (\r\n                            <div>\r\n                                Voting will open on {\r\n                                    this.parseDate(this.props.event.startVote)\r\n                                } at {\r\n                                    this.parseTime(this.props.event.startVote)\r\n                                }\r\n                                <br />\r\n                                <br />\r\n                            </div>\r\n                        ) : ('')}\r\n                        <i>Note: Manually opening voting will override automated start time.</i>\r\n                        <br /><br />\r\n                        <Button variant=\"contained\" onClick={this.openVoting}>Open Voting</Button>\r\n                    </DialogContent>\r\n                );\r\n            case 'open':\r\n                return (\r\n                    <DialogContent>\r\n                        The voting period is currently open.\r\n                        <br />\r\n                        <br />\r\n                        Automated voting period {this.props.event.automate ? 'is' : 'is not'} enabled.\r\n                        <br />\r\n                        {this.props.event.automate ? (\r\n                            <div>\r\n                                Voting will close on {\r\n                                    this.parseDate(this.props.event.endVote)\r\n                                } at {\r\n                                    this.parseTime(this.props.event.endVote)\r\n                                }\r\n                                <br />\r\n                                <br />\r\n                            </div>\r\n                        ) : ('')}\r\n                        <i>Note: Manually closing voting will override automated end time.</i>\r\n                        <br />\r\n                        <br />\r\n                        <Button variant=\"contained\" onClick={this.closeVoting}>Close Voting</Button>\r\n                    </DialogContent>\r\n                );\r\n            default: // closed\r\n                return (\r\n                    <DialogContent>\r\n                        The voting period has closed.\r\n                        <br />\r\n                        <br />\r\n                        <Button variant=\"contained\" onClick={this.reopenVoting}>Re-Open Voting</Button>\r\n                    </DialogContent>\r\n                );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return !this.state.open ? null : (\r\n            <div>\r\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\r\n                    <DialogTitle> Open/Close Voting </DialogTitle>\r\n                    {this.renderOptions()}\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">Go Back</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\nimport { Slide, Dialog, DialogTitle, DialogContent, DialogActions, Button, TextField } from '@material-ui/core';\nimport firebase from '../../../firebase.js';\n\nfunction Transition(props) {\n    return <Slide direction=\"up\" {...props} />;\n}\n\nexport default class AddEntries extends React.Component {\n    state = {\n        open: false,\n        title: '',\n        presenters: '',\n        entry_dates: ''\n    };\n\n    handleOpen = () => {\n        this.setState({ \n            open: true, \n        });\n    };\n\n    handleClose = () => {\n        this.setState({ \n            open: false,\n            title: '',\n            presenters: '',\n            entry_dates: ''\n        });\n    }\n\n    handleSaveClose = () => {\n        let tempId;\n        // generate ID\n        if (this.props.event.entries) {\n            const ent = this.props.event.entries;\n            const entArray = Object.keys(ent);\n            tempId = 1 + parseInt(ent[entArray[entArray.length - 1]].id);\n        } else {\n            const base = 1000 + Math.floor((Math.random() * 8000) + 1);\n            tempId = base;\n        }\n        // save new entry to database\n        let itemsRef = firebase.database().ref('organizer/' + this.props.googleId +\n                                               '/event/' + this.props.event.id + \n                                               '/entries/' + tempId);\n        itemsRef.child('title').set(this.state.title);\n        itemsRef.child('id').set(tempId);\n        itemsRef.child('presenters').set(this.state.presenters);\n        itemsRef.child('entry_dates').set(this.state.entry_dates);\n        // close dialog\n        this.handleClose();\n    }\n\n    handleChange = name => event => {\n        this.setState({\n            [name]: event.target.value\n        });\n    }\n\n    render() {\n        return (\n            <div>\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\n                    <DialogTitle> Add New Entry </DialogTitle>\n                    <DialogContent>\n                        <TextField\n                            required\n                            label=\"Entry Title\"\n                            margin=\"dense\"\n                            className=\"entryFormText\"\n                            defaultValue={this.state.title}\n                            onChange={this.handleChange('title')}\n                        />\n                        <br />\n                        <TextField\n                            required\n                            label=\"Presenters\"\n                            margin=\"dense\"\n                            className=\"entryFormText\"\n                            defaultValue={this.state.presenters}\n                            onChange={this.handleChange('presenters')}\n                        />\n                        <TextField\n                            required\n                            label=\"Date(s) Attending\"\n                            margin=\"dense\"\n                            className=\"entryFormText\"\n                            defaultValue={this.state.entry_dates}\n                            onChange={this.handleChange('entry_dates')}\n                        />\n                    </DialogContent>\n                    <DialogActions>    \n                        <Button onClick={this.handleClose}>Cancel</Button>\n                        <Button onClick={this.handleSaveClose} color=\"primary\">Add</Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}","import React from 'react';\nimport { Slide, Dialog, DialogTitle, DialogContent, DialogActions, Button, TextField } from '@material-ui/core';\nimport openSocket from 'socket.io-client';\n\nconst socket = openSocket('http://localhost:5000');\n\nfunction Transition(props) {\n    return <Slide direction=\"up\" {...props} />;\n}\n\n// maybe for future, have it load current weights into text fields\nexport default class EditWeights extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false,\n            weights: [\n                \"\", \"\", \"\"\n            ]\n        };\n    }\n\n    handleOpen = () => {\n        this.setState({ open: true });\n    };\n\n    handleClose = () => {\n        this.setState({ open: false });\n    };\n\n    handleSave = () => {\n        let weights = this.state.weights;\n        if (weights[0] !== \"\" && weights[1] !== \"\" && weights[2] !== \"\") {\n            socket.emit('send_weights', {\n                weights: this.state.weights,\n                eventId: this.props.event.id,\n                googleId: this.props.googleId\n            });\n        }\n        this.setState({ open: false });\n    };\n\n    handleWeightChange = index => event => {\n        let curr = this.state.weights;\n        curr[index] = event.target.value;\n        this.setState({\n            weights: curr\n        });\n    };\n\n    render() {\n        return !this.state.open ? null : (\n            <div>\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\n                    <DialogTitle> Edit Weights </DialogTitle>\n                    <DialogContent>\n                        {\n                            this.state.weights.map((weight, index) => {\n                                return (\n                                    <div>\n                                        <TextField label={'Rank ' + (index + 1)} margin='dense' value={weight} onChange={this.handleWeightChange(index)} />\n                                    </div>\n                                )\n                            })\n                        }\n                    </DialogContent>\n                    <DialogActions>\n                        {/* Not sure how to make the close button align to the left */}\n                        <Button onClick={this.handleClose} color=\"default\">Close</Button>\n                        <Button onClick={this.handleSave} color=\"primary\">Save</Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}\n","import React from 'react';\r\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\r\nimport '../../component_style/Organizer.css';\r\nimport { TextField } from '@material-ui/core';\r\nimport firebase from '../../../firebase';\r\n\r\nexport default class AddVoteEntryForm extends React.Component {\r\n    state = {\r\n        show: true,\r\n        id: '',\r\n        title: '',\r\n        rank: this.props.entriesInVote[this.props.index].rank,\r\n        entries: [],\r\n        duplicate: false,\r\n        valid: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        const query = firebase.database().ref(`organizer/${this.props.googleId}/event/${this.props.event.id}`);\r\n        query.on('value', (snapshot) => {\r\n            const entriesRef = snapshot.val();\r\n            const { entries } = entriesRef;\r\n            this.setState({\r\n                entries,\r\n            });\r\n        });\r\n    }\r\n\r\n    delEntry = () => {\r\n        this.setState({\r\n            show: false,\r\n        }, () => {\r\n            this.props.updateEntry(this.state, this.props.index);\r\n        });\r\n    }\r\n\r\n    handleChange = name => event => {\r\n        this.setState({ rank: this.props.entriesInVote[this.props.index].rank });\r\n        let title = \"\";\r\n        const entry = this.state.entries[event.target.value];\r\n        if (entry) {\r\n            title = entry.title;\r\n        }\r\n        if (title !== '') {\r\n            this.setState({\r\n                [name]: event.target.value,\r\n                title,\r\n                valid: true,\r\n            }, () => {\r\n                this.props.updateEntry(this.state, this.props.index);\r\n            });\r\n        } else {\r\n            this.setState({\r\n                [name]: event.target.value,\r\n                title: '',\r\n                valid: false,\r\n            }, () => {\r\n                this.props.updateEntry(this.state, this.props.index);\r\n            });\r\n        }\r\n        this.setState({ duplicate: false });\r\n        for (let i = 0; i < this.props.entriesInVote.length; i++) {\r\n            const item = this.props.entriesInVote[i];\r\n            if (item.show && i !== this.props.index) {\r\n                if (item.id === event.target.value) {\r\n                    this.setState({ duplicate: true });\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    render() {\r\n        if (this.state.show && this.state.valid && !this.state.duplicate) {\r\n            return (\r\n                <div className=\"addEntry\">\r\n                    <br />\r\n                    <label className=\"rankingLabel\" id={this.props.index}>{this.props.entriesInVote[this.props.index].rank}.</label>\r\n                    <div>\r\n                        <TextField\r\n                            required=\"true\"\r\n                            label=\"Entry ID\"\r\n                            margin=\"dense\"\r\n                            className=\"entryFormText\"\r\n                            value={this.state.idAndTitle}\r\n                            onChange={this.handleChange('id')}\r\n                        />\r\n                        <TextField\r\n                            disabled\r\n                            label=\"Title\"\r\n                            margin=\"dense\"\r\n                            className=\"entryFormText\"\r\n                            value={this.state.title}\r\n                        />\r\n                    </div>\r\n                    <RemoveCircleOutlineIcon className=\"removeCircleOutlineIcon\" color=\"primary\" id=\"entryIcon\" onClick={this.delEntry} />\r\n                </div>\r\n            );\r\n        } else if (this.state.show && !this.state.duplicate) {\r\n            return (\r\n                <div className=\"addEntry\">\r\n                    <br />\r\n                    <label className=\"rankingLabel\" id={this.props.index}>{this.props.entriesInVote[this.props.index].rank}.</label>\r\n                    <div>\r\n                        <TextField\r\n                            error\r\n                            required=\"true\"\r\n                            label=\"Entry ID\"\r\n                            margin=\"dense\"\r\n                            className=\"entryFormText\"\r\n                            value={this.state.idAndTitle}\r\n                            onChange={this.handleChange('id')}\r\n                        />\r\n                        <TextField\r\n                            disabled\r\n                            label=\" \"\r\n                            margin=\"dense\"\r\n                            className=\"entryFormText\"\r\n                            value=\"Enter a Valid Entry ID\"\r\n                        />\r\n                    </div>\r\n                    <RemoveCircleOutlineIcon className='removeCircleOutlineIcon' color='primary' id='entryIcon' onClick={this.delEntry} />\r\n                </div>\r\n            );\r\n        } else if (this.state.show && this.state.duplicate) {\r\n            return (\r\n                <div className='addEntry'>\r\n                    <br />\r\n                    <label className='rankingLabel'>{this.props.entriesInVote[this.props.index].rank}.</label>\r\n                    <div>\r\n                        <TextField\r\n                            error\r\n                            required=\"true\"\r\n                            label=\"Entry ID\"\r\n                            margin=\"dense\"\r\n                            className=\"entryFormText\"\r\n                            value={this.state.idAndTitle}\r\n                            onChange={this.handleChange('id')}\r\n                        />\r\n                        <TextField\r\n                            disabled\r\n                            label=\" \"\r\n                            margin=\"dense\"\r\n                            className=\"entryFormText\"\r\n                            value=\"Duplicate Entry ID\"\r\n                        />\r\n                    </div>\r\n                    <RemoveCircleOutlineIcon className='removeCircleOutlineIcon' color='primary' id='entryIcon' onClick={this.delEntry} />\r\n                </div>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Slide, Dialog, DialogTitle, DialogContent, Button } from '@material-ui/core';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport firebase from '../../../firebase';\r\nimport AddBallotEntry from './AddBallotEntry';\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nexport default class AddVotes extends React.Component {\r\n    state = {\r\n        open: false,\r\n        entries: [],\r\n        voteID: '',\r\n    };\r\n\r\n    addEntry = () => {\r\n        let rank = 0;\r\n        for (let i = 0; i < this.state.entries.length; i++) {\r\n            const item = this.state.entries[i];\r\n            if (item.show) {\r\n                rank++;\r\n            }\r\n        }\r\n        rank++;\r\n        const newEntries = this.state.entries.slice();\r\n        newEntries.push({\r\n            show: true,\r\n            id: '',\r\n            rank,\r\n        });\r\n        this.setState({ entries: newEntries });\r\n    }\r\n\r\n    updateEntry(status, idx) {\r\n        let updateEntries = this.state.entries;\r\n        updateEntries[idx] = status;\r\n        if (!this.state.entries[idx].show) {\r\n            for (let i = idx + 1; i < this.state.entries.length; i++) {\r\n                if (updateEntries[i].show) {\r\n                    updateEntries[i].rank -= 1;\r\n                }\r\n            }\r\n        }\r\n        this.setState({ entries: updateEntries });\r\n    }\r\n\r\n    submitVote = () => {\r\n        let hasError = false;\r\n        let numOfEntries = 0;\r\n        for (let i = 0; i < this.state.entries.length; i++) {\r\n            const checkItem = this.state.entries[i];\r\n            if (checkItem.show) {\r\n                if (checkItem.duplicate || !checkItem.valid) {\r\n                    hasError = true;\r\n                }\r\n                numOfEntries++;\r\n            }\r\n        }\r\n        if (!hasError && numOfEntries > 0) {\r\n            const itemRef = firebase.database().ref(`event/${this.props.event.id}/ballots`);\r\n            itemRef.once('value', (snapshot) => {\r\n                let nonDigitVoteSize = snapshot.child('count').val();\r\n                if (nonDigitVoteSize === '' || nonDigitVoteSize === null) {\r\n                    nonDigitVoteSize = 0;\r\n                }\r\n                nonDigitVoteSize += 1;\r\n                this.setState({ voteID: nonDigitVoteSize });\r\n                itemRef.child('count').set(this.state.voteID);\r\n                for (let x = 0; x < this.state.entries.length; x++) {\r\n                    const item = this.state.entries[x];\r\n                    if (item.show) {\r\n                        const itemsRef = firebase.database().ref(`event/${this.props.event.id}/ballots/manual/vote${this.state.voteID}`);\r\n                        itemsRef.child(item.id).set(item.rank);\r\n                    }\r\n                }\r\n                this.setState({ entries: [] });\r\n                this.handleClose();\r\n            });\r\n        }\r\n    }\r\n\r\n    handleOpen = () => {\r\n        this.setState({\r\n            open: true,\r\n        });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ entries: [] });\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    render() {\r\n        let { entries } = this.state;\r\n        return (\r\n            <div>\r\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\r\n                    <DialogTitle> Add Vote </DialogTitle>\r\n                    <DialogContent>\r\n                        Click the circle-add button to fill in each entry.\r\n                        <br />\r\n                        <form className=\"addEntryForm\" onSubmit={this.submitVote}>\r\n                            {\r\n                                entries.map((val, idx) => {\r\n                                    return (\r\n                                        <div key={idx}>\r\n                                            <AddBallotEntry event={this.props.event} googleId={this.props.googleId} entriesInVote={entries} updateEntry={(status, index) => this.updateEntry(status, index)} index={idx} />\r\n                                        </div>\r\n                                    );\r\n                                })\r\n                            }\r\n                            <br />\r\n                            <AddCircleIcon color='primary' id='entryIcon' onClick={this.addEntry} />\r\n                            <br />\r\n                            <br />\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                className=\"buttons\"\r\n                                type=\"button\"\r\n                                onClick={this.handleClose}\r\n                            >\r\n                                Cancel\r\n                            </Button>\r\n                            {\"  \"}\r\n                            <Button type=\"submit\" variant=\"contained\" color=\"primary\" className='buttons'>Submit</Button>\r\n                        </form>\r\n                    </DialogContent>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\nimport { Slide, Dialog, DialogTitle, DialogContent, DialogActions, Button } from '@material-ui/core';\n\n\n\nfunction Transition(props) {\n    return <Slide direction=\"up\" {...props} />;\n}\n\n// maybe for future, have it load current weights into text fields\nexport default class ShowError extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false,\n            message: \"\",\n        };\n    }\n\n    handleOpen = (message) => {\n        this.setState({\n            open: true,\n            message: message,\n        });\n    };\n\n    handleClose = () => {\n        this.setState({\n            open: false,\n            message: \"\",\n        });\n    };\n\n    render() {\n        return !this.state.open ? null : (\n            <div>\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\n                    <DialogTitle> Error </DialogTitle>\n                    <DialogContent>\n                        Error message received:\n                        <br />\n                        <br />\n                        <b>{this.state.message}</b>\n                        <br />\n                        <br />\n                        You may want to double check the URL you posted for correctness and format.\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose} color=\"default\">Close</Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        );\n    }\n}\n","import React from 'react';\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Button, Slide } from '@material-ui/core';\r\n\r\nfunction Transition(props) {\r\n    return <Slide direction=\"up\" {...props} />;\r\n}\r\n\r\nexport default class ConfirmFinalize extends React.Component {\r\n    state = {\r\n        open: false,\r\n    };\r\n\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    handleConfirm = () => {\r\n        this.setState({ open: false });\r\n        this.props.handler();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleClose}>\r\n                    <DialogTitle>\r\n                        Finalize Results\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        Finalizing results will send all ballots (including manually entered and unsubmitted ballots) to the\r\n                        linked google sheet as well as close the event voting if it is currently open.\r\n                        If you only wanted to sync submitted entries, please cancel this dialog and choose the \"Sync Entries\"\r\n                        option.\r\n                        <br />\r\n                        Are you sure you want to finalize results?\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleClose}>Go Back</Button>\r\n                        <Button onClick={this.handleConfirm} color=\"primary\">Confirm</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport { Typography, Button, TextField } from '@material-ui/core';\r\nimport openSocket from 'socket.io-client';\r\nimport firebase from '../../firebase';\r\nimport ExportOrgData from './Dialogs/ExportOrgData';\r\nimport EditEntries from './Dialogs/EditEntries';\r\nimport EditEvent from './Dialogs/EditEvent';\r\nimport EditVoting from './Dialogs/EditVoting';\r\nimport AddEntries from './Dialogs/AddEntries';\r\nimport EditWeights from './Dialogs/EditWeights';\r\nimport AddBallot from './Dialogs/AddBallot';\r\nimport '../component_style/ViewEvent.css';\r\nimport ShowError from './Dialogs/ShowError';\r\nimport ConfirmFinalize from './Dialogs/ConfirmFinalize';\r\n\r\nconst socket = openSocket('http://localhost:5000');\r\n\r\n/**\r\n * OrganizerView > ViewEvent\r\n * Allows organizers to view the details of an event\r\n * that they have already created.\r\n */\r\nexport default class ViewEvent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            view: 'main',\r\n            event: {\r\n                id: '',\r\n                name: '',\r\n                location: '',\r\n                startDate: '',\r\n                endDate: '',\r\n                automate: false,\r\n                startVote: '',\r\n                endVote: '',\r\n                sheetURL: 'Google Sheet URL',\r\n                entries: []\r\n            },\r\n        };\r\n        this.exportChild = React.createRef();\r\n        this.eventChild = React.createRef();\r\n        this.entryChild = React.createRef();\r\n        this.addChild = React.createRef();\r\n        this.votingChild = React.createRef();\r\n        this.weightsChild = React.createRef();\r\n        this.addVoteChild = React.createRef();\r\n        this.errorChild = React.createRef();\r\n        this.finalizeChild = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        const googleId = this.props.user.googleId;\r\n        var query = firebase.database().ref(`organizer/${googleId}/event`);\r\n        query.on('value', (snapshot) => {\r\n            const events = snapshot.val();\r\n            if (events && events[this.props.curEvent]) {\r\n                const eventBase = events[this.props.curEvent].eventData;\r\n                const eventEntries = events[this.props.curEvent].entries;\r\n                this.setState({\r\n                    view: this.state.view,\r\n                    event: {\r\n                        id: eventBase['id'],\r\n                        name: eventBase['name'],\r\n                        location: eventBase['location'],\r\n                        startDate: eventBase['startDate'],\r\n                        endDate: eventBase['endDate'],\r\n                        automate: eventBase['automate'],\r\n                        startVote: eventBase['startVote'],\r\n                        endVote: eventBase['endVote'],\r\n                        sheetURL: eventBase['sheetURL'],\r\n                        entries: eventEntries\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        socket.on('error', (data) => {\r\n            console.log(data.error);\r\n            this.handleError(data.error);\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        socket.removeListener('error');\r\n    }\r\n\r\n    handleExport = () => {\r\n        this.exportChild.current.handleOpen();\r\n    }\r\n\r\n    handleEntryEdit(entryID) {\r\n        this.entryChild.current.handleOpen(entryID);\r\n    }\r\n\r\n    handleOpenEntries = () => {\r\n        this.setState({\r\n            view: 'entries',\r\n            event: this.state.event\r\n        });\r\n    }\r\n\r\n    handleAddEntry = () => {\r\n        this.addChild.current.handleOpen();\r\n    }\r\n\r\n    handleEventEdit = () => {\r\n        this.eventChild.current.handleOpen();\r\n    }\r\n\r\n    handleOpenCloseVoting = () => {\r\n        this.votingChild.current.handleOpen();\r\n    }\r\n\r\n    handleWeights = () => {\r\n        this.weightsChild.current.handleOpen();\r\n    }\r\n\r\n    handleError = (message) => {\r\n        this.errorChild.current.handleOpen(message);\r\n    }\r\n\r\n    handleAddVote = () => {\r\n        this.addVoteChild.current.handleOpen();\r\n    }\r\n\r\n    goBack = () => {\r\n        if (this.state.view === 'main' || this.state.view === \"results\") {\r\n            this.props.handler(this.props.orgViews.MAIN);\r\n        } else if (this.state.view === 'entries') {\r\n            this.setState({\r\n                view: 'main',\r\n                event: this.state.event\r\n            });\r\n        }\r\n    }\r\n\r\n    viewResults = () => {\r\n        this.setState({\r\n            view: \"results\"\r\n        });\r\n    }\r\n\r\n    manageEvent = () => {\r\n        this.setState({\r\n            view: \"main\"\r\n        });\r\n    }\r\n\r\n    finalizeConfirm = () => {\r\n        this.finalizeChild.current.handleOpen();\r\n    }\r\n\r\n    finalizeResults = () => {\r\n        socket.emit('finalize_results', {\r\n            googleId: this.props.user.googleId,\r\n            eventId: this.state.event.id\r\n        });\r\n    }\r\n\r\n    keyPress(e) {\r\n        if (e.key === 'Enter') {\r\n            this.handleSubmit();\r\n        }\r\n    }\r\n\r\n    handleURLChange = (e) => {\r\n        e.preventDefault();\r\n        const newEvent = this.state.event;\r\n        newEvent.sheetURL = e.target.value;\r\n        this.setState({\r\n            view: this.state.view,\r\n            event: newEvent\r\n        });\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        socket.emit('send_url', {\r\n            url: this.state.event.sheetURL,\r\n            googleId: this.props.user.googleId,\r\n            eventId: this.state.event.id,\r\n        });\r\n    }\r\n\r\n    sendEntries = () => {\r\n        socket.emit('send_entries', {\r\n            googleId: this.props.user.googleId,\r\n            eventId: this.state.event.id,\r\n            entries: this.state.event.entries\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"main\">\r\n                {\r\n                    this.props.user != null &&\r\n                    <div>\r\n                        <ExportOrgData ref={this.exportChild} event={this.state.event} />\r\n                        <EditEntries ref={this.entryChild} event={this.state.event} googleId={this.props.user.googleId} />\r\n                        <ConfirmFinalize ref={this.finalizeChild} handler={this.finalizeResults} />\r\n                        <AddEntries ref={this.addChild} event={this.state.event} googleId={this.props.user.googleId} />\r\n                        <EditEvent ref={this.eventChild} event={this.state.event} googleId={this.props.user.googleId} handler={this.props.handler} orgViews={this.props.orgViews} />\r\n                        <AddBallot ref={this.addVoteChild} event={this.state.event} googleId={this.props.user.googleId} />\r\n                        <EditVoting ref={this.votingChild} event={this.state.event} googleId={this.props.user.googleId} />\r\n                        <EditWeights ref={this.weightsChild} event={this.state.event} googleId={this.props.user.googleId} />\r\n                        <ShowError ref={this.errorChild} event={this.state.event} googleId={this.props.googleID} />\r\n                        <Typography variant=\"h3\" align='center' gutterBottom>{this.state.event.name}</Typography>\r\n                    </div>\r\n                }\r\n                {\r\n                    this.state.view === 'main' &&\r\n                    <div>\r\n                        <div className=\"options\">\r\n                            <Button className=\"button1\" variant=\"contained\" color=\"primary\" onClick={this.manageEvent}>Manage Event</Button>\r\n                            <Button className=\"button1\" variant=\"contained\" onClick={this.viewResults}>View Results</Button>\r\n                        </div>\r\n                        <div className=\"box\">\r\n                            <Button className=\"listButtons\" onClick={this.handleExport}>Export Event & Entry QR Codes</Button>\r\n                            <Button className=\"listButtons\" onClick={this.handleOpenEntries}>View/Add/Edit Entries</Button>\r\n                            <Button className=\"listButtons\" onClick={this.handleEventEdit}>View/Edit Event Details</Button>\r\n                            <Button className=\"listButtons\" onClick={this.handleOpenCloseVoting}>Open/Close Voting</Button>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {\r\n                    this.state.view === 'entries' && this.state.event.entries !== undefined &&\r\n                    <div>\r\n                        <div className=\"options\">\r\n                            <Button className=\"button1\" variant=\"contained\" color=\"primary\" onClick={this.manageEvent}>Manage Event</Button>\r\n                            <Button className=\"button1\" variant=\"contained\" onClick={this.viewResults}>View Results</Button>\r\n                        </div>\r\n                        <div className=\"box\">\r\n                            {\r\n                                Object.values(this.state.event.entries).map((entry, index) => (\r\n                                    <Button key={index} className=\"listButtons\" onClick={() => this.handleEntryEdit(entry.id)}>\r\n                                        {entry.title} by {entry.presenters}\r\n                                    </Button>\r\n                                ))\r\n                            }\r\n                            <Button className=\"listButtons\" color=\"primary\" onClick={this.handleAddEntry}>Add New Entry</Button>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {\r\n                    this.state.view === 'entries' && this.state.event.entries === undefined &&\r\n                    <div>\r\n                        <div className=\"options\">\r\n                            <Button className=\"button1\" variant=\"contained\" color=\"primary\" onClick={this.manageEvent}>Manage Event</Button>\r\n                            <Button className=\"button1\" variant=\"contained\" onClick={this.viewResults}>View Results</Button>\r\n                        </div>\r\n                        <div className=\"box\">\r\n                            <Button className=\"listButtons\" color=\"primary\" onClick={this.handleAddEntry}>Add New Entry</Button>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {\r\n                    this.state.view === \"results\" &&\r\n                    <div className=\"viewResults\">\r\n                        <div className=\"options\">\r\n                            <Button className=\"button1\" variant=\"contained\" onClick={this.manageEvent}>Manage Event</Button>\r\n                            <Button className=\"button1\" variant=\"contained\" color=\"primary\" onClick={this.viewResults}>View Results</Button>\r\n                        </div>\r\n                        <br />\r\n                        <div className=\"saveItems\">\r\n                            <div className=\"sheetsExport\">\r\n                                <Typography variant=\"h5\">Set up Google Sheets to export results:</Typography>\r\n                                <br />\r\n                                <div className=\"instructions\">\r\n                                    <div>1. Create a Google Sheet in your desired location</div>\r\n                                    <div>\r\n                                        2. Share the spreadsheet with editing rights with:\r\n                                        <br />\r\n                                        <div className=\"main\">\r\n                                            <b>talli-455@talli-229017.iam.gserviceaccount.com</b>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div>\r\n                                        3. Grab the spreadsheet's URL and paste it here:\r\n                                        <div className=\"main\">\r\n                                            <TextField\r\n                                                id=\"standard-dense\"\r\n                                                label=\"Spreadsheet URL\"\r\n                                                margin=\"dense\"\r\n                                                className=\"sheetURL\"\r\n                                                value={this.state.event.sheetURL}\r\n                                                onKeyDown={this.keyPress}\r\n                                                onChange={this.handleURLChange}\r\n                                            />\r\n                                            <br />\r\n                                            <Button variant=\"contained\" size=\"small\" color=\"default\" onClick={this.handleSubmit}>\r\n                                                Submit\r\n                                            </Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"manualBallots\">\r\n                                <Typography variant=\"h5\">Add paper ballot(s) manually into system:</Typography>\r\n                                <br />\r\n                                <div className=\"addVoteBox\">\r\n                                    <Button className=\"listButtons\" onClick={this.handleAddVote}>Add Vote</Button>\r\n                                </div>\r\n                                <br />\r\n                                <div>\r\n                                    <Typography variant=\"h5\">Results Controls:</Typography>\r\n                                    <Button variant=\"contained\" className=\"buttons weights\" type=\"button\" onClick={this.handleWeights}>Apply Custom Weights</Button>\r\n                                    <Button variant=\"contained\" className=\"buttons\" type=\"button\" onClick={this.sendEntries}>Sync entries</Button>\r\n                                    <br />\r\n                                    <Button variant=\"contained\" className=\"buttons\" color=\"primary\" type=\"button\" onClick={this.finalizeConfirm}>Finalize Results</Button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                <br />\r\n                <Button\r\n                    variant=\"contained\"\r\n                    className=\"buttons\"\r\n                    type=\"button\"\r\n                    onClick={this.goBack}\r\n                >\r\n                    Back\r\n                </Button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport NewEvent from './OrganizerView/NewEventForm';\r\nimport EventList from './OrganizerView/EventList';\r\nimport AddEntry from './OrganizerView/AddEntryOrg';\r\nimport ViewEvent from './OrganizerView/ViewEvent';\r\nimport { navigate } from 'react-mini-router';\r\nimport { Button } from '@material-ui/core';\r\nimport './component_style/Organizer.css';\r\n\r\nconst orgViews = {\r\n    MAIN: 'EventList',\r\n    CREATE: 'NewEvent',\r\n    ADD: 'AddEntry',\r\n    VIEW: 'ViewEvent',\r\n}\r\n\r\n/**\r\n * OrganizerView > Organizer\r\n * Container which all organizer view will be rendered in.\r\n */\r\nexport default class Organizer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { curView: orgViews.MAIN, curEventID: '' };\r\n        this.setView = this.setView.bind(this);\r\n        this.setEvent = this.setEvent.bind(this);\r\n    }\r\n\r\n    ChangeView(page) {\r\n        navigate(page);\r\n    }\r\n\r\n    setView(newView) {\r\n        this.setState({ curView: newView });\r\n    }\r\n\r\n    setEvent(eventID) {\r\n        this.setState({ curEventID: eventID });\r\n    }\r\n\r\n    logout() {\r\n        this.ChangeView('/');\r\n        this.props.logout();\r\n    }\r\n\r\n    getCurrView() {\r\n        switch(this.state.curView) {\r\n            case orgViews.CREATE:\r\n                return( <NewEvent orgViews={orgViews} handler={this.setView} setEvent={this.setEvent} user={this.props.user} /> );\r\n            case orgViews.ADD:\r\n                return( <AddEntry orgViews={orgViews} handler={this.setView} curEvent={this.state.curEventID} user={this.props.user} /> );\r\n            case orgViews.VIEW:\r\n                return( <ViewEvent orgViews={orgViews} handler={this.setView} curEvent={this.state.curEventID} user={this.props.user} /> );\r\n            default:\r\n                return( <EventList orgViews={orgViews} handler={this.setView} setEvent={this.setEvent} user={this.props.user} /> ); \r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"content\">\r\n                {/* <GoogleLogout \r\n                    buttonText=\"Logout\"\r\n                    render={renderProps => (\r\n                        <Button variant=\"contained\" color=\"secondary\" className=\"buttons\" onClick={renderProps.onClick}>Logout</Button>\r\n                    )}\r\n                    onLogoutSuccess={this.logout.bind(this)} /> */}\r\n                {/* temp solution to logout issue */}\r\n                <Button variant=\"contained\" color=\"secondary\" className=\"buttons\" onClick={this.logout.bind(this)}>Logout</Button>\r\n                <div>{this.getCurrView()}</div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { navigate } from 'react-mini-router';\nimport CookieConsent from './CookieConsent';\nimport { getCookie } from '../cookies';\nimport './component_style/CookieConsent.css';\n\n/**\n * Cookies information page.\n * TO DO: make sure consent banner still shows if necessary.\n */\nexport default class CookieInfo extends React.Component {\n    ChangeView(page) {\n        navigate(page);\n    }\n\n    gaveConsent = () => {\n        const consentValue = getCookie('TalliConsent');\n        return (consentValue !== \"\");\n    }\n\n    render() {\n        return (\n            <div className=\"cookieInfo\">\n                <Typography variant=\"h4\" gutterBottom>Cookies</Typography>\n                <Typography variant=\"h5\">What are cookies?</Typography>\n                <Typography variant=\"body2\">\n                    A cookie is a small text file that a website saves on your computer or mobile device when you visit the site. \n                    It enables the website to remember your actions and preferences (such as login, language, font size and other display preferences) \n                    over a period of time, so you dont have to keep re-entering them whenever you come back to the site or browse from one page to another. \n                </Typography>\n                <br />\n                <Typography variant=\"h5\">How do we use cookies?</Typography>\n                <Typography variant=\"body2\">\n                    On this website, we use cookies to identify unique event attendees. This helps keep voting on our platform accurate and fair \n                    by allowing each visitor only one ballot submission per event. Upon join an event for the first time with our application, \n                    a unique ID is generated for your browser and stored to identify you without needing to collect any additional information \n                    like name or email address. In current and future sessions, we will use that cookie to identify you to allow you to return to an \n                    in-progress ballot and to prevent you from submitting a ballot for an event more than once.\n                </Typography>\n                <br />\n                <Typography variant=\"h5\">How to control cookies</Typography>\n                <Typography variant=\"body2\">\n                    You can control and/or delete cookies as you wish  for details, see aboutcookies.org. \n                    You can delete all cookies that are already on your computer and you can set most browsers to prevent them from being placed. \n                    If you do this, however, you will not be allowed to vote using our platform and will need to contact an event organizer for an \n                    alternate mode of voting.\n                    <br />\n                    <br />\n                    If you consent to the usage of cookies by this site, please select \"Got It!\" on the banner below if you have not already.\n                    Please note that you <b>cannot</b> use the voting features on this application without consenting to cookie usage.\n                </Typography>\n                {\n                    !this.gaveConsent() && <CookieConsent nav={this.ChangeView} />\n                }\n            </div>\n        );\n    }\n}\n","import React from 'react';\r\nimport createReactClass from 'create-react-class';\r\nimport MainPage from '../components/MainPage';\r\nimport Voter from '../components/Voter';\r\nimport Organizer from '../components/Organizer';\r\nimport CookieInfo from '../components/CookieInfo';\r\n\r\nvar RouterMixin = require('react-mini-router').RouterMixin;\r\n\r\n/**\r\n * RoutedApp handles routing between each of the main views as well\r\n * as error handling when a non-existant page is queried\r\n */\r\nvar RoutedApp = createReactClass({\r\n\r\n    getInitialState: function() {\r\n        return {loggedIn: this.props.loggedIn};\r\n    },\r\n\r\n    mixins: [RouterMixin],\r\n\r\n    // TODO: Set up /vote/:text (voteWithID) to handle url-injected event IDs\r\n    //      (currently displays the same as /vote)\r\n    routes: {\r\n        '/': 'home',\r\n        '/vote': 'vote',\r\n        '/vote/:text': 'voteWithID',\r\n        '/organizer': 'organizer',\r\n        '/cookies': 'cookies'\r\n    },\r\n\r\n    render: function () {\r\n        return this.renderCurrentRoute();\r\n    },\r\n\r\n    home: function () {\r\n        return (\r\n            <MainPage \r\n                loggedIn={this.props.loggedIn}\r\n                onSuccess={this.onSuccess} />\r\n        );\r\n    },\r\n\r\n    vote: function () {\r\n        return <Voter />;\r\n    },\r\n\r\n    voteWithID: function (text) {\r\n        return <Voter />;\r\n    },\r\n\r\n    organizer: function () {\r\n        return (\r\n            <Organizer\r\n                logout={this.logout}\r\n                user={this.props.user} />\r\n        );\r\n    },\r\n\r\n    cookies: function () {\r\n        return <CookieInfo />;\r\n    },\r\n\r\n    notFound: function (path) {\r\n        return <div className=\"not-found\">Page Not Found: {path}</div>;\r\n    },\r\n\r\n    onSuccess: function(response) {\r\n        this.props.onSuccess(response);\r\n    },\r\n\r\n    logout: function() {\r\n        this.props.logout();\r\n    }\r\n});\r\n\r\nexport default RoutedApp;","import React, { Component } from 'react';\nimport NavBar from './components/NavBar';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport theme from './components/Theme';\nimport RoutedApp from './routing/routing';\nimport './App.css';\nimport firebase from './firebase';\n\n/**\n * 'App' serves as a colleciton point of lower components before they\n * are sent off to rendering in index.js\n * This gives us a place to inject routing and theming as well as place\n * components that stay constant throughout the experience, such as the\n * NavBar\n*/\nexport default class App extends Component {\n\n    constructor() {\n        super();\n        let user = sessionStorage.getItem('id') ? {\n            googleId: sessionStorage.getItem('id'),\n            email: sessionStorage.getItem('email'),\n            name: sessionStorage.getItem('name')\n        } : null;\n        this.state = {\n            loggedIn: user ? true : false,\n            user: user\n        };\n    }\n\n    render() {\n        return (\n            <MuiThemeProvider theme={theme}>\n                <div>\n                    <NavBar\n                        loggedIn={this.state.loggedIn}\n                        onSuccess={this.onSuccess.bind(this)}\n                        logout={this.logout.bind(this)} />\n                    <RoutedApp\n                        onSuccess={this.onSuccess.bind(this)}\n                        logout={this.logout.bind(this)}\n                        user={this.state.user} />\n                </div>\n            </MuiThemeProvider>\n        );\n    }\n\n    onSuccess(response) {\n        this.setState({\n            loggedIn: true,\n            user: {\n                googleId: response.googleId,\n                email: response.profileObj.email,\n                name: response.profileObj.givenName\n            }\n        });\n        sessionStorage.setItem('id', response.googleId);\n        sessionStorage.setItem('email', response.profileObj.email);\n        sessionStorage.setItem('name', response.profileObj.givenName);\n      \n        var organizer = {\n        \temail: response.profileObj.email,\n        \tname: response.profileObj.name\n        }\n        const ref = firebase.database().ref(\"organizer/\" + response.profileObj.googleId + \"/organizerData\");\n        ref.set(organizer);\n    }\n\n    logout() {\n        this.setState({\n            loggedIn: false,\n            user: null\n        });\n        sessionStorage.removeItem('id');\n        sessionStorage.removeItem('email');\n        sessionStorage.removeItem('name');\n    }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n/**\n * index.js separates the actual rendering from the rest of the\n * application, mostly to prevent unintentional changes\n */\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}